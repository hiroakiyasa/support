
```html
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <!-- SEO対策のためのメタタグ -->
  <title data-i18n-key="seo_title_default">TrailFusion AI | アプリコレクション</title>
  <meta name="description" data-i18n-key="seo_desc_default" content="TrailFusion AIが提供する革新的なアプリコレクション！英語学習「GPティーチャーズ」、戦略パズル「森のウッドゴーレム」、単語ゲーム「ワードブラスター」、ディベートAI「論破王」、集中タイマー「ハッキングタイマー」をチェック！">
  <meta name="keywords" data-i18n-key="seo_keywords_default" content="TrailFusion AI, GPティーチャーズ, 森のウッドゴーレム, ワードブラスター, 論破王, ハッキングタイマー, 英語学習, パズルゲーム, 単語ゲーム, ディベートAI, 集中タイマー, Apple Watchアプリ">
  <meta name="author" content="TrailFusion AI">
  
  <!-- OGP設定 -->
  <meta property="og:title" data-i18n-key="og_title_default" content="TrailFusion AI | アプリコレクション">
  <meta property="og:description" data-i18n-key="og_desc_default" content="TrailFusion AIの革新的なアプリを発見しよう！GPティーチャーズ, 森のウッドゴーレム, ワードブラスター, 論破王, ハッキングタイマー">
  <meta property="og:image" content="og-image.jpg"> <!-- Update this path -->
  <meta property="og:url" content="https://www.trailfusionai.com"> <!-- Update this URL -->
  <meta property="og:type" content="website">
  
  <!-- Twitter Card設定 -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" data-i18n-key="twitter_title_default" content="TrailFusion AI | アプリコレクション">
  <meta name="twitter:description" data-i18n-key="twitter_desc_default" content="TrailFusion AIの革新的なアプリを発見しよう！GPティーチャーズ, 森のウッドゴーレム, ワードブラスター, 論破王, ハッキングタイマー">
  <meta name="twitter:image" content="images/twitter-card.jpg">
  
  <!-- ファビコンとアップルタッチアイコン -->
  <link rel="icon" href="favicon.ico"> <!-- Update this path -->
  <link rel="apple-touch-icon" href="apple-touch-icon.png"> <!-- Update this path -->
  
  <!-- 外部ライブラリの読み込み -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css">
  
  <style>
    :root {
      /* カラーパレット (基本) */
      --primary-color: #4A9D67; /* Default Green */
      --primary-dark: #337548;
      --primary-light: #6BC288;
      --primary-gradient: linear-gradient(135deg, var(--primary-color), var(--primary-light));
      
      --secondary-color: #F4A261;
      --accent-color: #E76F51;
      --dark-color: #2D3748;
      --gray-dark: #4A5568;
      --gray-medium: #718096;
      --gray-light: #E2E8F0;
      --light-color: #F8F9FA;
      --white: #ffffff;
      
      /* GPティーチャーズ (英語アプリ) */
      --gpt-primary: #4169E1; /* Royal Blue */
      --gpt-secondary: #87CEFA; /* Light Sky Blue */
      --gpt-accent: #1E90FF; /* Dodger Blue */
      --gpt-dark: #191970; /* Midnight Blue */
      --gpt-gradient: linear-gradient(135deg, var(--gpt-primary), var(--gpt-secondary));
      
      /* 森のウッドゴーレム (スティックアプリ) */
      --golem-primary: #4A9D67; /* Forest Green */
      --golem-secondary: #F4A261; /* Sandy Brown */
      --golem-accent: #E76F51; /* Burnt Sienna */
      --golem-dark: #2E8B57; /* Sea Green */
      --golem-gradient: linear-gradient(135deg, var(--golem-primary), var(--golem-secondary));

      /* ワードブラスター */
      --wb-primary: #9B59B6; /* Amethyst (Purple) */
      --wb-secondary: #D2B4DE; /* Thistle */
      --wb-accent: #8E44AD; /* Wisteria */
      --wb-dark: #4A235A; /* Dark Purple */
      --wb-gradient: linear-gradient(135deg, var(--wb-primary), var(--wb-secondary));

      /* 論破王 */
      --ronpa-primary: #C0392B; /* Pomegranate (Red) */
      --ronpa-secondary: #E6B0AA; /* Rose Taupe */
      --ronpa-accent: #A93226; /* Darker Red */
      --ronpa-dark: #78281F; /* Very Dark Red */
      --ronpa-gradient: linear-gradient(135deg, var(--ronpa-primary), var(--ronpa-secondary));
      
      /* ハッキングタイマー */
      --ht-primary: #00BCD4; /* Cyan */
      --ht-secondary: #B2EBF2; /* Pale Cyan */
      --ht-accent: #00ACC1; /* Darker Cyan */
      --ht-dark: #006064; /* Darkest Cyan */
      --ht-gradient: linear-gradient(135deg, var(--ht-primary), var(--ht-secondary));
      
      /* フォントサイズ */
      --fs-xs: 0.75rem; --fs-sm: 0.875rem; --fs-base: 1rem; --fs-lg: 1.125rem; --fs-xl: 1.25rem;
      --fs-2xl: 1.5rem; --fs-3xl: 1.875rem; --fs-4xl: 2.25rem; --fs-5xl: 3rem;
      
      /* スペーシング */
      --spacing-1: 0.25rem; --spacing-2: 0.5rem; --spacing-3: 0.75rem; --spacing-4: 1rem;
      --spacing-5: 1.25rem; --spacing-6: 1.5rem; --spacing-8: 2rem; --spacing-10: 2.5rem;
      --spacing-12: 3rem; --spacing-16: 4rem; --spacing-20: 5rem;
      
      /* ボーダーラディウス */
      --radius-sm: 0.125rem; --radius-md: 0.375rem; --radius-lg: 0.5rem; --radius-xl: 0.75rem;
      --radius-2xl: 1rem; --radius-3xl: 1.5rem; --radius-full: 9999px;
      
      /* シャドウ */
      --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
      --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
      --shadow-inner: inset 0 2px 4px 0 rgba(0, 0, 0, 0.06);
      
      /* トランジション */
      --transition-fast: 0.15s ease; --transition-normal: 0.3s ease; --transition-slow: 0.5s ease;
    }
    
    * { box-sizing: border-box; margin: 0; padding: 0; }
    html { scroll-behavior: smooth; font-size: 16px; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      line-height: 1.7; background-color: var(--light-color); color: var(--dark-color);
      overflow-x: hidden; position: relative; min-height: 100vh;
    }
    h1, h2, h3, h4, h5, h6 { font-weight: 700; line-height: 1.3; margin-bottom: var(--spacing-4); color: var(--dark-color); }
    h1 { font-size: var(--fs-4xl); } h2 { font-size: var(--fs-3xl); } h3 { font-size: var(--fs-2xl); } h4 { font-size: var(--fs-xl); }
    p { margin-bottom: var(--spacing-4); color: var(--gray-dark); }
    img { 
      max-width: 100%; height: auto; border-radius: var(--radius-lg); display: block; 
      transition: opacity var(--transition-normal);
    }
    img.lazy { opacity: 0.3; }
    img[src=""], img:not([src]) { 
      background-color: var(--gray-light); 
      min-height: 200px; 
      display: flex; 
      align-items: center; 
      justify-content: center; 
    }
    img[src=""]:before, img:not([src]):before { 
      content: "画像を読み込み中..."; 
      color: var(--gray-medium); 
      font-size: var(--fs-sm); 
    }
    a { color: var(--primary-color); text-decoration: none; transition: all var(--transition-fast); }
    a:hover { color: var(--primary-dark); text-decoration: none; }
    ul, ol { margin-bottom: var(--spacing-4); padding-left: var(--spacing-6); }
    .container { width: 100%; max-width: 1280px; margin: 0 auto; padding: 0 var(--spacing-4); }
    
    .btn {
      display: inline-flex; align-items: center; justify-content: center;
      padding: var(--spacing-3) var(--spacing-6); background-color: var(--primary-color); color: var(--white);
      font-weight: 600; border-radius: var(--radius-full); border: none; cursor: pointer;
      transition: all var(--transition-normal); text-align: center; font-size: var(--fs-base);
      line-height: 1.5; box-shadow: var(--shadow-md); position: relative; overflow: hidden;
    }
    .btn:hover { transform: translateY(-3px); box-shadow: var(--shadow-lg); color: var(--white); }
    .btn::after {
      content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
      background-color: rgba(255, 255, 255, 0.1); transform: translateX(-100%);
      transition: transform var(--transition-normal);
    }
    .btn:hover::after { transform: translateX(0); }
    .btn-lg { padding: var(--spacing-4) var(--spacing-8); font-size: var(--fs-lg); }
    .btn-primary { background-color: var(--primary-color); color: var(--white); }
    .gpt-app .btn-primary { background-color: var(--gpt-primary); }
    .golem-app .btn-primary { background-color: var(--golem-primary); }
    .wordblaster-app .btn-primary { background-color: var(--wb-primary); }
    .ronpa-app .btn-primary { background-color: var(--ronpa-primary); }
    .hackingtimer-app .btn-primary { background-color: var(--ht-primary); }

    .btn-accent { background-color: var(--accent-color); color: var(--white); }
    .gpt-app .btn-accent { background-color: var(--gpt-accent); }
    .golem-app .btn-accent { background-color: var(--golem-accent); }
    .wordblaster-app .btn-accent { background-color: var(--wb-accent); }
    .ronpa-app .btn-accent { background-color: var(--ronpa-accent); }
    .hackingtimer-app .btn-accent { background-color: var(--ht-accent); }
    
    .btn-outline { background-color: transparent; border: 2px solid var(--primary-color); color: var(--primary-color); }
    .gpt-app .btn-outline { border-color: var(--gpt-primary); color: var(--gpt-primary); }
    .golem-app .btn-outline { border-color: var(--golem-primary); color: var(--golem-primary); }
    .wordblaster-app .btn-outline { border-color: var(--wb-primary); color: var(--wb-primary); }
    .ronpa-app .btn-outline { border-color: var(--ronpa-primary); color: var(--ronpa-primary); }
    .hackingtimer-app .btn-outline { border-color: var(--ht-primary); color: var(--ht-primary); }

    .btn-outline:hover { background-color: var(--primary-color); color: var(--white); }
    .gpt-app .btn-outline:hover { background-color: var(--gpt-primary); }
    .golem-app .btn-outline:hover { background-color: var(--golem-primary); }
    .wordblaster-app .btn-outline:hover { background-color: var(--wb-primary); }
    .ronpa-app .btn-outline:hover { background-color: var(--ronpa-primary); }
    .hackingtimer-app .btn-outline:hover { background-color: var(--ht-primary); }

    .download-btn {
      display: inline-flex; align-items: center; justify-content: center; gap: var(--spacing-2);
      padding: var(--spacing-4) var(--spacing-8); background-color: var(--accent-color); color: var(--white);
      font-weight: 700; border-radius: var(--radius-full); font-size: var(--fs-lg);
      box-shadow: var(--shadow-lg); transition: all var(--transition-normal);
      position: relative; overflow: hidden; z-index: 1;
    }
    .download-btn i { font-size: 1.25em; }
    .gpt-app .download-btn { background-color: var(--gpt-accent); }
    .golem-app .download-btn { background-color: var(--golem-accent); }
    .wordblaster-app .download-btn { background-color: var(--wb-accent); }
    
    /* ウッドゴーレム攻略法セクション用スタイル */
    .strategy-section {
      margin-bottom: var(--spacing-16);
      padding: var(--spacing-8);
      background: var(--white);
      border-radius: var(--radius-2xl);
      box-shadow: var(--shadow-lg);
      border-left: 5px solid var(--golem-primary);
    }
    
    .strategy-section h3 {
      color: var(--golem-primary);
      margin-bottom: var(--spacing-6);
      font-size: var(--fs-2xl);
      display: flex;
      align-items: center;
      gap: var(--spacing-2);
    }
    
    /* 棒の図解スタイル */
    .stick-diagram {
      background: #f8f9fa;
      padding: var(--spacing-6);
      border-radius: var(--radius-lg);
      margin: var(--spacing-4) 0;
    }
    
    .stick-row {
      display: flex;
      align-items: flex-end;
      margin-bottom: var(--spacing-3);
      gap: var(--spacing-2);
      min-height: 40px;
    }
    
    .row-label {
      font-weight: 600;
      color: var(--golem-dark);
      min-width: 50px;
    }
    
    .stick {
      width: 8px;
      height: 30px;
      margin: 2px 0;
      border-radius: var(--radius-sm);
      transition: all var(--transition-normal);
      display: inline-block;
    }
    
    .stick.active {
      background-color: var(--golem-primary);
      box-shadow: 0 2px 4px rgba(74, 157, 103, 0.3);
    }
    
    .stick.removed {
      background-color: var(--gray-light);
      opacity: 0.5;
      position: relative;
    }
    
    .stick.removed::after {
      content: '×';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: var(--accent-color);
      font-weight: bold;
      font-size: 12px;
    }
    
    .stick.highlight {
      background-color: var(--golem-accent);
      animation: pulse 1.5s infinite;
    }
    
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }
    
    /* ルール説明 */
    .rule-explanation {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--spacing-8);
      align-items: center;
    }
    
    .rule-text ul {
      list-style: none;
      padding: 0;
    }
    
    .rule-text li {
      padding: var(--spacing-3);
      margin-bottom: var(--spacing-2);
      background: var(--golem-secondary);
      border-radius: var(--radius-md);
      color: var(--dark-color);
      font-weight: 500;
      position: relative;
      padding-left: var(--spacing-8);
    }
    
    .rule-text li::before {
      content: '✓';
      position: absolute;
      left: var(--spacing-3);
      color: var(--golem-primary);
      font-weight: bold;
    }
    
    /* ビフォーアフター表示 */
    .before-after {
      display: grid;
      grid-template-columns: 1fr auto 1fr;
      gap: var(--spacing-6);
      align-items: center;
      margin: var(--spacing-6) 0;
    }
    
    .game-state {
      text-align: center;
      padding: var(--spacing-4);
      background: var(--light-color);
      border-radius: var(--radius-lg);
      border: 2px solid var(--golem-primary);
    }
    
    .game-state h5 {
      color: var(--golem-dark);
      margin-bottom: var(--spacing-3);
      font-size: var(--fs-lg);
    }
    
    .state-info {
      font-size: var(--fs-sm);
      color: var(--gray-dark);
      font-weight: 600;
      margin-top: var(--spacing-2);
    }
    
    .arrow {
      font-size: var(--fs-2xl);
      color: var(--golem-primary);
      font-weight: bold;
    }
    
    .move-explanation {
      font-size: var(--fs-sm);
      color: var(--golem-dark);
      font-weight: 600;
      margin-top: var(--spacing-2);
    }
    
    /* ニム和計算テーブル */
    .binary-table table {
      width: 100%;
      border-collapse: collapse;
      margin: var(--spacing-4) 0;
      background: var(--white);
      border-radius: var(--radius-md);
      overflow: hidden;
      box-shadow: var(--shadow-md);
    }
    
    .binary-table th,
    .binary-table td {
      padding: var(--spacing-3);
      text-align: center;
      border-bottom: 1px solid var(--gray-light);
    }
    
    .binary-table th {
      background-color: var(--golem-primary);
      color: var(--white);
      font-weight: 600;
    }
    
    .binary-table tr.result {
      background-color: var(--golem-secondary);
      font-weight: bold;
    }
    
    /* 戦略ルールボックス */
    .strategy-rules {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--spacing-4);
      margin: var(--spacing-6) 0;
    }
    
    .rule-box {
      padding: var(--spacing-4);
      border-radius: var(--radius-lg);
      text-align: center;
      border: 2px solid;
    }
    
    .rule-box.winning {
      background-color: rgba(74, 157, 103, 0.1);
      border-color: var(--golem-primary);
    }
    
    .rule-box.losing {
      background-color: rgba(231, 111, 81, 0.1);
      border-color: var(--accent-color);
    }
    
    .rule-box h6 {
      margin-bottom: var(--spacing-2);
      font-size: var(--fs-lg);
    }
    
    .rule-box.winning h6 {
      color: var(--golem-primary);
    }
    
    .rule-box.losing h6 {
      color: var(--accent-color);
    }
    
    /* フローチャート */
    .flowchart {
      padding: var(--spacing-8);
      background: linear-gradient(135deg, #f8f9fa, #e9ecef);
      border-radius: var(--radius-2xl);
      margin: var(--spacing-6) 0;
    }
    
    .flow-step {
      margin-bottom: var(--spacing-8);
    }
    
    .step-box {
      padding: var(--spacing-4);
      border-radius: var(--radius-lg);
      text-align: center;
      box-shadow: var(--shadow-md);
      margin: var(--spacing-2) 0;
    }
    
    .step-box.start {
      background-color: var(--golem-primary);
      color: var(--white);
    }
    
    .step-box.decision {
      background-color: var(--golem-secondary);
      color: var(--dark-color);
    }
    
    .step-box.action {
      background-color: var(--golem-accent);
      color: var(--white);
    }
    
    .step-box.wait {
      background-color: var(--gray-medium);
      color: var(--white);
    }
    
    .arrow-down {
      text-align: center;
      font-size: var(--fs-2xl);
      color: var(--golem-primary);
      font-weight: bold;
    }
    
    .flow-branches {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: var(--spacing-6);
      margin-top: var(--spacing-4);
    }
    
    .branch {
      display: flex;
      align-items: center;
      gap: var(--spacing-2);
    }
    
    .branch-label {
      background-color: var(--golem-dark);
      color: var(--white);
      padding: var(--spacing-2) var(--spacing-3);
      border-radius: var(--radius-md);
      font-weight: 600;
      font-size: var(--fs-sm);
      white-space: nowrap;
    }
    
    .arrow-right {
      color: var(--golem-primary);
      font-weight: bold;
      font-size: var(--fs-lg);
    }
    
    .sub-branches {
      margin-top: var(--spacing-3);
    }
    
    .sub-branch {
      display: flex;
      align-items: center;
      gap: var(--spacing-2);
      margin-bottom: var(--spacing-2);
    }
    
    .sub-branch span {
      background-color: var(--white);
      padding: var(--spacing-1) var(--spacing-2);
      border-radius: var(--radius-sm);
      font-size: var(--fs-sm);
      font-weight: 600;
      border: 1px solid var(--golem-primary);
    }
    
    /* 練習問題 */
    .practice-problems {
      margin-top: var(--spacing-6);
    }
    
    .problem {
      background: var(--white);
      padding: var(--spacing-6);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-md);
      margin-bottom: var(--spacing-6);
      border: 2px solid var(--golem-secondary);
    }
    
    .problem h4 {
      color: var(--golem-dark);
      margin-bottom: var(--spacing-4);
    }
    
    .problem-solution {
      background: var(--light-color);
      padding: var(--spacing-4);
      border-radius: var(--radius-md);
      margin-top: var(--spacing-4);
      border-left: 4px solid var(--golem-primary);
    }
    
    .solution-toggle {
      background-color: var(--golem-primary);
      color: var(--white);
      border: none;
      padding: var(--spacing-2) var(--spacing-4);
      border-radius: var(--radius-md);
      cursor: pointer;
      font-weight: 600;
      transition: all var(--transition-normal);
      margin-top: var(--spacing-4);
    }
    
    .solution-toggle:hover {
      background-color: var(--golem-dark);
      transform: translateY(-2px);
    }
    
    /* レスポンシブ対応 */
    @media (max-width: 768px) {
      .rule-explanation {
        grid-template-columns: 1fr;
        gap: var(--spacing-4);
      }
      
      .before-after {
        grid-template-columns: 1fr;
        gap: var(--spacing-4);
      }
      
      .arrow {
        transform: rotate(90deg);
      }
      
      .strategy-rules {
        grid-template-columns: 1fr;
      }
      
      .flow-branches {
        grid-template-columns: 1fr;
      }
      
      .branch {
        flex-direction: column;
        text-align: center;
      }
      
      .arrow-right {
        transform: rotate(90deg);
      }
      
      .stick {
        width: 6px;
        height: 25px;
      }
    }
    
    /* ウッドゴーレム実践ゲーム用スタイル */
    .game-container {
      background: var(--white);
      border-radius: var(--radius-2xl);
      padding: var(--spacing-8);
      box-shadow: var(--shadow-xl);
      border: 3px solid var(--golem-primary);
      max-width: 800px;
      margin: 0 auto;
    }
    
    .game-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: var(--spacing-6);
      flex-wrap: wrap;
      gap: var(--spacing-4);
    }
    
    .game-info h3 {
      color: var(--golem-primary);
      margin-bottom: var(--spacing-2);
      font-size: var(--fs-xl);
    }
    
    .game-status {
      display: flex;
      gap: var(--spacing-4);
      align-items: center;
    }
    
    .game-status span {
      padding: var(--spacing-2) var(--spacing-3);
      border-radius: var(--radius-md);
      font-weight: 600;
      font-size: var(--fs-sm);
    }
    
    #game-turn {
      background-color: var(--golem-primary);
      color: var(--white);
    }
    
    #game-turn.ai-turn {
      background-color: var(--golem-accent);
    }
    
    #game-message {
      background-color: var(--golem-secondary);
      color: var(--dark-color);
    }
    
    .game-controls {
      display: flex;
      gap: var(--spacing-3);
    }
    
    .game-board {
      background: linear-gradient(135deg, #f8f9fa, #e9ecef);
      border-radius: var(--radius-lg);
      padding: var(--spacing-6);
      margin-bottom: var(--spacing-6);
      min-height: 200px;
      border: 2px solid var(--golem-secondary);
    }
    
    .game-row {
      display: flex;
      align-items: flex-end;
      justify-content: center;
      margin-bottom: var(--spacing-4);
      gap: var(--spacing-2);
      min-height: 60px;
      position: relative;
    }
    
    .sticks-container {
      display: flex;
      align-items: flex-end;
      gap: 3px;
    }
    
    .row-label-game {
      font-weight: 600;
      color: var(--golem-dark);
      min-width: 60px;
      align-self: center;
      font-size: var(--fs-sm);
    }
    
    .game-stick {
      width: 16px;
      height: 50px;
      margin: 3px;
      border-radius: 8px 8px 2px 2px;
      background: linear-gradient(135deg, #8B4513 0%, #A0522D 30%, #CD853F  70%, #DEB887 100%);
      cursor: pointer;
      transition: all var(--transition-normal);
      position: relative;
      box-shadow: 
        0 2px 4px rgba(139, 69, 19, 0.3),
        inset 0 1px 0 rgba(222, 184, 135, 0.5),
        inset 0 -1px 0 rgba(139, 69, 19, 0.3);
      border: 1px solid #8B4513;
    }
    
    .game-stick::before {
      content: '';
      position: absolute;
      top: 2px;
      left: 50%;
      transform: translateX(-50%);
      width: 2px;
      height: 80%;
      background: linear-gradient(to bottom, #654321, #8B4513);
      border-radius: 1px;
    }
    
    .game-stick::after {
      content: '';
      position: absolute;
      top: 10%;
      left: 20%;
      width: 60%;
      height: 2px;
      background: rgba(139, 69, 19, 0.4);
      border-radius: 1px;
    }
    
    .game-stick:hover {
      transform: translateY(-2px);
      box-shadow: 
        0 4px 8px rgba(139, 69, 19, 0.4),
        inset 0 1px 0 rgba(222, 184, 135, 0.7),
        inset 0 -1px 0 rgba(139, 69, 19, 0.5);
      filter: brightness(1.1);
    }
    
    .game-stick.selected {
      background: linear-gradient(135deg, #FF6B35 0%, #FF8C42 30%, #FFA726 70%, #FFB74D 100%);
      transform: translateY(-3px);
      box-shadow: 
        0 6px 12px rgba(255, 107, 53, 0.5),
        inset 0 1px 0 rgba(255, 183, 77, 0.7),
        inset 0 -1px 0 rgba(255, 107, 53, 0.5);
      border-color: #FF6B35;
    }
    
    .game-stick.removed {
      background-color: var(--gray-light);
      opacity: 0.3;
      cursor: not-allowed;
      transform: none;
    }
    
    .game-stick.removed::after {
      content: '×';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: var(--accent-color);
      font-weight: bold;
      font-size: 14px;
    }
    
    .stick-count {
      font-size: var(--fs-sm);
      color: var(--golem-dark);
      font-weight: 600;
      margin-left: var(--spacing-2);
      align-self: center;
    }
    
    .nim-info {
      background: var(--white);
      border: 2px solid var(--golem-primary);
      border-radius: var(--radius-lg);
      padding: var(--spacing-4);
      margin-bottom: var(--spacing-4);
      font-family: 'Courier New', monospace;
    }
    
    .nim-info h4 {
      color: var(--golem-primary);
      margin-bottom: var(--spacing-3);
      font-size: var(--fs-lg);
    }
    
    .nim-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: var(--spacing-2);
      padding: var(--spacing-2);
      background: var(--golem-secondary);
      border-radius: var(--radius-md);
    }
    
    .nim-row:last-child {
      margin-bottom: 0;
    }
    
    .nim-label {
      font-weight: 600;
      color: var(--golem-dark);
    }
    
    .nim-binary {
      font-family: 'Courier New', monospace;
      color: var(--golem-primary);
      font-weight: bold;
    }
    
    .nim-sum {
      background: var(--golem-primary);
      color: var(--white);
      padding: var(--spacing-2) var(--spacing-3);
      border-radius: var(--radius-md);
      font-weight: bold;
      text-align: center;
      margin-top: var(--spacing-3);
    }
    
    .nim-sum.zero {
      background: var(--success-color);
    }
    
    .nim-sum.non-zero {
      background: var(--accent-color);
    }
    
    .game-actions {
      text-align: center;
    }
    
    .move-instruction {
      background: var(--golem-secondary);
      padding: var(--spacing-4);
      border-radius: var(--radius-lg);
      margin-bottom: var(--spacing-4);
    }
    
    .move-instruction p {
      color: var(--golem-dark);
      font-size: var(--fs-sm);
      margin: 0;
      text-align: center;
    }
    
    .role-selection {
      background: var(--golem-secondary);
      padding: var(--spacing-6);
      border-radius: var(--radius-lg);
      margin-bottom: var(--spacing-4);
    }
    
    .role-selection h4 {
      color: var(--golem-dark);
      margin-bottom: var(--spacing-4);
    }
    
    .role-buttons {
      display: flex;
      gap: var(--spacing-4);
      justify-content: center;
    }
    
    .game-result {
      background: var(--light-color);
      padding: var(--spacing-6);
      border-radius: var(--radius-lg);
      border: 2px solid var(--golem-primary);
    }
    
    .game-result h4 {
      color: var(--golem-dark);
      margin-bottom: var(--spacing-4);
      font-size: var(--fs-xl);
    }
    
    .result-buttons {
      display: flex;
      gap: var(--spacing-4);
      justify-content: center;
    }
    
    .hint-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }
    
    .hint-content {
      background: var(--white);
      padding: var(--spacing-8);
      border-radius: var(--radius-lg);
      max-width: 500px;
      margin: var(--spacing-4);
      text-align: center;
      box-shadow: var(--shadow-xl);
    }
    
    .hint-content h4 {
      color: var(--golem-primary);
      margin-bottom: var(--spacing-4);
    }
    
    .hint-content p {
      color: var(--dark-color);
      margin-bottom: var(--spacing-6);
      line-height: 1.6;
    }
    
    /* レスポンシブ対応 */
    @media (max-width: 768px) {
      .game-header {
        flex-direction: column;
        align-items: stretch;
      }
      
      .game-controls {
        justify-content: center;
      }
      
      .role-buttons,
      .result-buttons {
        flex-direction: column;
        align-items: center;
      }
      
      .game-stick {
        width: 12px;
        height: 40px;
      }
      
      .game-container {
        padding: var(--spacing-4);
        margin: var(--spacing-2);
      }
    }
    
    .ronpa-app .download-btn { background-color: var(--ronpa-accent); }
    .hackingtimer-app .download-btn { background-color: var(--ht-accent); }

    .download-btn:hover { transform: translateY(-5px); box-shadow: var(--shadow-xl); color: var(--white); }
    .gpt-app .download-btn:hover { background-color: var(--gpt-dark); }
    .golem-app .download-btn:hover { background-color: var(--golem-dark); }
    .wordblaster-app .download-btn:hover { background-color: var(--wb-dark); }
    .ronpa-app .download-btn:hover { background-color: var(--ronpa-dark); }
    .hackingtimer-app .download-btn:hover { background-color: var(--ht-dark); }

    .text-center { text-align: center; }
    .text-primary { color: var(--primary-color); }
    .gpt-app .text-primary { color: var(--gpt-primary); }
    .golem-app .text-primary { color: var(--golem-primary); }
    .wordblaster-app .text-primary { color: var(--wb-primary); }
    .ronpa-app .text-primary { color: var(--ronpa-primary); }
    .hackingtimer-app .text-primary { color: var(--ht-primary); }
    
    /* ユーティリティクラス (省略) */
    .mb-1{margin-bottom:var(--spacing-1)}.mb-2{margin-bottom:var(--spacing-2)}.mb-3{margin-bottom:var(--spacing-3)}.mb-4{margin-bottom:var(--spacing-4)}.mb-5{margin-bottom:var(--spacing-5)}.mb-6{margin-bottom:var(--spacing-6)}.mb-8{margin-bottom:var(--spacing-8)}.mb-10{margin-bottom:var(--spacing-10)}.mb-12{margin-bottom:var(--spacing-12)}.mb-16{margin-bottom:var(--spacing-16)}.mb-20{margin-bottom:var(--spacing-20)}.mt-1{margin-top:var(--spacing-1)}.mt-2{margin-top:var(--spacing-2)}.mt-3{margin-top:var(--spacing-3)}.mt-4{margin-top:var(--spacing-4)}.mt-5{margin-top:var(--spacing-5)}.mt-6{margin-top:var(--spacing-6)}.mt-8{margin-top:var(--spacing-8)}.mt-10{margin-top:var(--spacing-10)}.mt-12{margin-top:var(--spacing-12)}.mt-16{margin-top:var(--spacing-16)}.mt-20{margin-top:var(--spacing-20)}.py-1{padding-top:var(--spacing-1);padding-bottom:var(--spacing-1)}.py-2{padding-top:var(--spacing-2);padding-bottom:var(--spacing-2)}.py-3{padding-top:var(--spacing-3);padding-bottom:var(--spacing-3)}.py-4{padding-top:var(--spacing-4);padding-bottom:var(--spacing-4)}.py-5{padding-top:var(--spacing-5);padding-bottom:var(--spacing-5)}.py-6{padding-top:var(--spacing-6);padding-bottom:var(--spacing-6)}.py-8{padding-top:var(--spacing-8);padding-bottom:var(--spacing-8)}.py-10{padding-top:var(--spacing-10);padding-bottom:var(--spacing-10)}.py-12{padding-top:var(--spacing-12);padding-bottom:var(--spacing-12)}.py-16{padding-top:var(--spacing-16);padding-bottom:var(--spacing-16)}.py-20{padding-top:var(--spacing-20);padding-bottom:var(--spacing-20)}.px-1{padding-left:var(--spacing-1);padding-right:var(--spacing-1)}.px-2{padding-left:var(--spacing-2);padding-right:var(--spacing-2)}.px-3{padding-left:var(--spacing-3);padding-right:var(--spacing-3)}.px-4{padding-left:var(--spacing-4);padding-right:var(--spacing-4)}.px-5{padding-left:var(--spacing-5);padding-right:var(--spacing-5)}.px-6{padding-left:var(--spacing-6);padding-right:var(--spacing-6)}.px-8{padding-left:var(--spacing-8);padding-right:var(--spacing-8)}.px-10{padding-left:var(--spacing-10);padding-right:var(--spacing-10)}.px-12{padding-left:var(--spacing-12);padding-right:var(--spacing-12)}.px-16{padding-left:var(--spacing-16);padding-right:var(--spacing-16)}.px-20{padding-left:var(--spacing-20);padding-right:var(--spacing-20)}.w-full{width:100%}.h-full{height:100%}.d-flex{display:flex}.flex-column{flex-direction:column}.flex-wrap{flex-wrap:wrap}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.align-center{align-items:center}.gap-1{gap:var(--spacing-1)}.gap-2{gap:var(--spacing-2)}.gap-3{gap:var(--spacing-3)}.gap-4{gap:var(--spacing-4)}.gap-5{gap:var(--spacing-5)}.gap-6{gap:var(--spacing-6)}.gap-8{gap:var(--spacing-8)}.gap-10{gap:var(--spacing-10)}.hidden{display:none}.opacity-0{opacity:0}.opacity-100{opacity:1}.position-relative{position:relative}.position-absolute{position:absolute}.overlay{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);z-index:1}.z-1{z-index:1}.z-2{z-index:2}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-40{z-index:40}.z-50{z-index:50}

    /* ナビゲーションバー */
    .navbar {
      background-color: rgba(255, 255, 255, 0.95); box-shadow: var(--shadow-md); padding: var(--spacing-4) 0;
      position: fixed; top: 0; left: 0; width: 100%; z-index: 1000; transition: all var(--transition-normal);
    }
    .navbar.scrolled { padding: var(--spacing-2) 0; background-color: rgba(255, 255, 255, 0.98); box-shadow: var(--shadow-lg); }
    .navbar-container { display: flex; justify-content: space-between; align-items: center; }
    .navbar-logo { display: flex; align-items: center; gap: var(--spacing-2); }
    .navbar-logo img { height: 45px; border-radius: 0; }
    .navbar-logo h2 { margin: 0; font-size: var(--fs-xl); color: var(--dark-color); font-weight: 700; }
    .navbar-menu { display: flex; gap: var(--spacing-6); }
    .navbar-menu a { color: var(--gray-dark); font-weight: 600; position: relative; transition: all var(--transition-fast); }
    .navbar-menu a:hover { color: var(--primary-color); } /* Default hover */
    .gpt-app .navbar-menu a:hover { color: var(--gpt-primary); }
    .golem-app .navbar-menu a:hover { color: var(--golem-primary); }
    .wordblaster-app .navbar-menu a:hover { color: var(--wb-primary); }
    .ronpa-app .navbar-menu a:hover { color: var(--ronpa-primary); }
    .hackingtimer-app .navbar-menu a:hover { color: var(--ht-primary); }

    .navbar-menu a::after {
      content: ''; position: absolute; bottom: -5px; left: 0; width: 0; height: 3px;
      background-color: var(--primary-color); /* Default underline */
      transition: width var(--transition-normal);
    }
    .gpt-app .navbar-menu a::after { background-color: var(--gpt-primary); }
    .golem-app .navbar-menu a::after { background-color: var(--golem-primary); }
    .wordblaster-app .navbar-menu a::after { background-color: var(--wb-primary); }
    .ronpa-app .navbar-menu a::after { background-color: var(--ronpa-primary); }
    .hackingtimer-app .navbar-menu a::after { background-color: var(--ht-primary); }

    .navbar-menu a:hover::after { width: 100%; }
    .navbar-actions { display: flex; align-items: center; gap: var(--spacing-4); }
    .navbar-toggle { display: none; background: none; border: none; cursor: pointer; font-size: var(--fs-xl); color: var(--dark-color); }
    
    .language-switcher { position: relative; }
    .language-btn { display: flex; align-items: center; gap: var(--spacing-2); cursor: pointer; padding: var(--spacing-2); border-radius: var(--radius-md); transition: all var(--transition-fast); }
    .language-btn:hover { background-color: var(--gray-light); }
    .language-dropdown {
      position: absolute; top: 100%; right: 0; background-color: var(--white); box-shadow: var(--shadow-lg);
      border-radius: var(--radius-md); padding: var(--spacing-1); min-width: 150px; opacity: 0;
      visibility: hidden; transform: translateY(10px); transition: all var(--transition-normal); z-index: 100;
    }
    .language-switcher:hover .language-dropdown { opacity: 1; visibility: visible; transform: translateY(0); }
    .language-option { display: flex; align-items: center; gap: var(--spacing-2); padding: var(--spacing-2) var(--spacing-3); cursor: pointer; transition: all var(--transition-fast); border-radius: var(--radius-sm); }
    .language-option:hover { background-color: var(--gray-light); }
    .language-option.active { background-color: var(--primary-color); color: var(--white); } /* Default active */
    .gpt-app .language-option.active { background-color: var(--gpt-primary); }
    .golem-app .language-option.active { background-color: var(--golem-primary); }
    .wordblaster-app .language-option.active { background-color: var(--wb-primary); }
    .ronpa-app .language-option.active { background-color: var(--ronpa-primary); }
    .hackingtimer-app .language-option.active { background-color: var(--ht-primary); }
    
    .navbar-spacer { height: 77px; }
    .main-content { padding-top: var(--spacing-6); padding-bottom: var(--spacing-16); position: relative; }
    
    /* アプリ選択タブ */
    .app-selector {
      display: flex; justify-content: center; margin-bottom: var(--spacing-8); gap: var(--spacing-2); /* Reduced gap */
      flex-wrap: wrap; /* Allow wrapping for many tabs */
    }
    .app-tab {
      padding: var(--spacing-3) var(--spacing-5); /* Slightly smaller padding */
      background: var(--white); border-radius: var(--radius-full); font-weight: 700;
      font-size: var(--fs-base); /* Slightly smaller font */
      cursor: pointer; transition: all var(--transition-normal); border: 2px solid transparent;
      min-width: 180px; /* Adjusted min-width */
      text-align: center; display: flex; align-items: center; justify-content: center;
      gap: var(--spacing-2); box-shadow: var(--shadow-md);
    }
    .app-tab i { font-size: 1.2em; } /* Slightly smaller icon */

    .app-tab.gpt-tab.active { background: var(--gpt-gradient); color: var(--white); border-color: var(--gpt-primary); box-shadow: var(--shadow-lg); }
    .app-tab.gpt-tab:hover:not(.active) { border-color: var(--gpt-primary); color: var(--gpt-primary); box-shadow: var(--shadow-lg); transform: translateY(-3px); }
    
    .app-tab.golem-tab.active { background: var(--golem-gradient); color: var(--white); border-color: var(--golem-primary); box-shadow: var(--shadow-lg); }
    .app-tab.golem-tab:hover:not(.active) { border-color: var(--golem-primary); color: var(--golem-primary); box-shadow: var(--shadow-lg); transform: translateY(-3px); }

    .app-tab.wordblaster-tab.active { background: var(--wb-gradient); color: var(--white); border-color: var(--wb-primary); box-shadow: var(--shadow-lg); }
    .app-tab.wordblaster-tab:hover:not(.active) { border-color: var(--wb-primary); color: var(--wb-primary); box-shadow: var(--shadow-lg); transform: translateY(-3px); }
    
    .app-tab.ronpa-tab.active { background: var(--ronpa-gradient); color: var(--white); border-color: var(--ronpa-primary); box-shadow: var(--shadow-lg); }
    .app-tab.ronpa-tab:hover:not(.active) { border-color: var(--ronpa-primary); color: var(--ronpa-primary); box-shadow: var(--shadow-lg); transform: translateY(-3px); }

    .app-tab.hackingtimer-tab.active { background: var(--ht-gradient); color: var(--white); border-color: var(--ht-primary); box-shadow: var(--shadow-lg); }
    .app-tab.hackingtimer-tab:hover:not(.active) { border-color: var(--ht-primary); color: var(--ht-primary); box-shadow: var(--shadow-lg); transform: translateY(-3px); }
    
    .app-content { display: none; animation: fadeIn 0.5s ease; }
    .app-content.active { display: block; }
    @keyframes fadeIn { 0% { opacity: 0; transform: translateY(20px); } 100% { opacity: 1; transform: translateY(0); } }
    
    /* アプリ別基本スタイル */
    .gpt-app { --app-color: var(--gpt-primary); --app-gradient: var(--gpt-gradient); --app-dark: var(--gpt-dark); }
    .golem-app { --app-color: var(--golem-primary); --app-gradient: var(--golem-gradient); --app-dark: var(--golem-dark); }
    .wordblaster-app { --app-color: var(--wb-primary); --app-gradient: var(--wb-gradient); --app-dark: var(--wb-dark); }
    .ronpa-app { --app-color: var(--ronpa-primary); --app-gradient: var(--ronpa-gradient); --app-dark: var(--ronpa-dark); }
    .hackingtimer-app { --app-color: var(--ht-primary); --app-gradient: var(--ht-gradient); --app-dark: var(--ht-dark); }

    /* ヒーローセクション */
    .hero {
      position: relative; padding: var(--spacing-16) 0; color: var(--white); text-align: center;
      border-radius: var(--radius-2xl); overflow: hidden; margin-bottom: var(--spacing-12);
      box-shadow: var(--shadow-xl); background: var(--app-gradient); /* Dynamically set by app class */
    }
    .hero::before {
      content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
      background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MDAiIGhlaWdodD0iNTAwIiB2aWV3Qm94PSIwIDAgNTAwIDUwMCI+CiAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmIiBvcGFjaXR5PSIwLjEiPgogICAgPGNpcmNsZSBjeD0iMTAwIiBjeT0iMTAwIiByPSI4MCIgLz4KICAgIDxjaXJjbGUgY3g9IjQwMCIgY3k9IjMwMCIgcj0iMTIwIiAvPgogICAgPGNpcmNsZSBjeD0iMjIwIiBjeT0iNDAwIiByPSI2MCIgLz4KICAgIDxjaXJjbGUgY3g9IjQ1MCIgY3k9IjkwIiByPSIzMCIgLz4KICAgIDxjaXJjbGUgY3g9IjMwIiBjeT0iMjgwIiByPSI0MCIgLz4KICAgIDxjaXJjbGUgY3g9IjM1MCIgY3k9IjE1MCIgcj0iNzAiIC8+CiAgPC9nPgo8L3N2Zz4=');
      opacity: 0.1; z-index: 1;
    }
    .hero-content { position: relative; z-index: 2; max-width: 900px; margin: 0 auto; padding: 0 var(--spacing-4); }
    .hero h1 { font-size: var(--fs-5xl); margin-bottom: var(--spacing-6); color: var(--white); text-shadow: 0 2px 4px rgba(0,0,0,0.1); line-height: 1.2; }
    .hero p { font-size: var(--fs-xl); max-width: 800px; margin: 0 auto var(--spacing-8); color: rgba(255,255,255,0.9); }
    
    .app-screens { display: flex; justify-content: center; margin-top: var(--spacing-8); flex-wrap: wrap; gap: var(--spacing-6); }
    .app-screen {
      height: 500px; border-radius: var(--radius-2xl); box-shadow: var(--shadow-xl);
      transform: perspective(1000px) rotateY(5deg); transition: all var(--transition-slow);
      object-fit: cover; border: 8px solid var(--white);
    }
    .app-screen:nth-child(2) { transform: perspective(1000px) rotateY(-5deg); }
    .app-screen:hover { transform: perspective(1000px) rotateY(0) scale(1.05); box-shadow: 0 25px 50px rgba(0,0,0,0.2); }
    
    /* フィーチャーセクション */
    .section { padding: var(--spacing-12) 0; margin-bottom: var(--spacing-12); }
    .section-white { background: var(--white); border-radius: var(--radius-2xl); box-shadow: var(--shadow-lg); }
    .section-colored { position: relative; overflow: hidden; border-radius: var(--radius-2xl); padding: var(--spacing-12) 0; }
    /* App specific colored section backgrounds */
    .gpt-app .section-colored { background: linear-gradient(135deg, rgba(65,105,225,0.05), rgba(135,206,250,0.05)); }
    .golem-app .section-colored { background: linear-gradient(135deg, rgba(74,157,103,0.05), rgba(244,162,97,0.05)); }
    .wordblaster-app .section-colored { background: linear-gradient(135deg, rgba(155,89,182,0.05), rgba(210,180,222,0.05)); }
    .ronpa-app .section-colored { background: linear-gradient(135deg, rgba(192,57,43,0.05), rgba(230,176,170,0.05)); }
    .hackingtimer-app .section-colored { background: linear-gradient(135deg, rgba(0,188,212,0.05), rgba(178,235,242,0.05)); }

    .section-title { text-align: center; margin-bottom: var(--spacing-12); }
    .section-title h2 { font-size: var(--fs-4xl); margin-bottom: var(--spacing-4); position: relative; display: inline-block; color: var(--app-color); }
    .section-title h2::after {
      content: ''; position: absolute; left: 50%; bottom: -10px; transform: translateX(-50%);
      width: 60px; height: 4px; border-radius: 2px; background: var(--app-color);
    }
    .section-title p { max-width: 700px; margin: var(--spacing-6) auto 0; font-size: var(--fs-lg); }
    
    .badge {
      display: inline-block; padding: var(--spacing-1) var(--spacing-3); font-size: var(--fs-xs);
      font-weight: 700; border-radius: var(--radius-full); text-transform: uppercase;
      letter-spacing: 1.5px; margin-bottom: var(--spacing-4);
    }
    /* App specific badge backgrounds */
    .gpt-app .badge-primary { background: rgba(65,105,225,0.1); color: var(--gpt-primary); }
    .golem-app .badge-primary { background: rgba(74,157,103,0.1); color: var(--golem-primary); }
    .wordblaster-app .badge-primary { background: rgba(155,89,182,0.1); color: var(--wb-primary); }
    .ronpa-app .badge-primary { background: rgba(192,57,43,0.1); color: var(--ronpa-primary); }
    .hackingtimer-app .badge-primary { background: rgba(0,188,212,0.1); color: var(--ht-primary); }

    /* カード系コンポーネント */
    .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: var(--spacing-6); }
    .card {
      background: var(--white); border-radius: var(--radius-xl); box-shadow: var(--shadow-md);
      padding: var(--spacing-6); transition: all var(--transition-normal); height: 100%;
      display: flex; flex-direction: column; border: 1px solid var(--gray-light); overflow: hidden;
    }
    .card:hover { transform: translateY(-10px); box-shadow: var(--shadow-xl); }
    .card-icon { font-size: var(--fs-4xl); margin-bottom: var(--spacing-6); transition: all var(--transition-normal); color: var(--app-color); }
    .card:hover .card-icon { transform: scale(1.1); }
    /* App specific card icon hover colors (using accent if defined, else primary) */
    .gpt-app .card:hover .card-icon { color: var(--gpt-accent); }
    .golem-app .card:hover .card-icon { color: var(--golem-accent); }
    .wordblaster-app .card:hover .card-icon { color: var(--wb-accent); }
    .ronpa-app .card:hover .card-icon { color: var(--ronpa-accent); }
    .hackingtimer-app .card:hover .card-icon { color: var(--ht-accent); }

    .card h3 { font-size: var(--fs-xl); margin-bottom: var(--spacing-4); transition: all var(--transition-normal); }
    .card:hover h3 { color: var(--app-color); }
    .card p { color: var(--gray-medium); margin-bottom: var(--spacing-4); flex-grow: 1; }
    .card-image { width: 100%; border-radius: var(--radius-lg); margin-top: var(--spacing-4); transition: all var(--transition-normal); box-shadow: var(--shadow-sm); }
    .card:hover .card-image { transform: scale(1.03); box-shadow: var(--shadow-md); }
    
    /* フィーチャーハイライト */
    .feature-highlight {
      background: var(--white); border-radius: var(--radius-2xl); padding: var(--spacing-8);
      margin-bottom: var(--spacing-12); box-shadow: var(--shadow-lg); position: relative; overflow: hidden;
      border-left: 6px solid var(--app-color);
    }
    .feature-highlight::after {
      content: ''; position: absolute; bottom: 0; right: 0; width: 200px; height: 200px;
      background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiB2aWV3Qm94PSIwIDAgMjAwIDIwMCI+CiAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBvcGFjaXR5PSIwLjAzIj4KICAgIDxjaXJjbGUgY3g9IjEwMCIgY3k9IjEwMCIgcj0iODAiIC8+CiAgICA8Y2lyY2xlIGN4PSIxMDAiIGN5PSIxMDAiIHI9IjYwIiAvPgogICAgPGNpcmNsZSBjeD0iMTAwIiBjeT0iMTAwIiByPSI0MCIgLz4KICAgIDxjaXJjbGUgY3g9IjEwMCIgY3k9IjEwMCIgcj0iMjAiIC8+CiAgPC9nPgo8L3N2Zz4=');
      opacity: 0.5; transform: rotate(-10deg); pointer-events: none;
    }
    .row { display: flex; flex-wrap: wrap; margin: 0 -var(--spacing-4); }
    .col-md-6 { flex: 0 0 50%; max-width: 50%; padding: 0 var(--spacing-4); }
    .feature-highlight h3 { margin-bottom: var(--spacing-4); color: var(--app-color); }
    .feature-list { list-style-type: none; padding-left: 0; margin-top: var(--spacing-6); }
    .feature-list li { margin-bottom: var(--spacing-4); display: flex; align-items: flex-start; gap: var(--spacing-3); }
    .feature-list i { margin-top: 4px; flex-shrink: 0; color: var(--app-color); }
    .feature-image { border-radius: var(--radius-xl); box-shadow: var(--shadow-lg); transition: all var(--transition-normal); margin-right: 5%; }
    .feature-image:hover { transform: scale(1.03); box-shadow: var(--shadow-xl); }
    
    /* FAQ セクション */
    .accordion {
      margin-bottom: var(--spacing-4); border-radius: var(--radius-xl); overflow: hidden;
      box-shadow: var(--shadow-md); background: var(--white); border: 1px solid var(--gray-light);
      transition: all var(--transition-normal);
    }
    .accordion:hover { box-shadow: var(--shadow-lg); }
    .accordion-header {
      padding: var(--spacing-5); background: var(--white); cursor: pointer; display: flex;
      justify-content: space-between; align-items: center; transition: all var(--transition-normal);
      border-bottom: 1px solid transparent;
    }
    .accordion-header h4 { margin: 0; font-size: var(--fs-lg); }
    .accordion-header:hover { background: var(--gray-light); }
    .accordion.active .accordion-header { border-bottom-color: var(--gray-light); }
    .accordion-toggle {
      font-size: var(--fs-xl); transition: all var(--transition-normal); width: 24px; height: 24px;
      display: flex; align-items: center; justify-content: center; border-radius: 50%;
      color: var(--app-color); /* App specific */
    }
    .accordion-content { max-height: 0; overflow: hidden; background: var(--white); transition: max-height var(--transition-normal); }
    .accordion-inner { padding: var(--spacing-5); }
    .accordion.active .accordion-toggle { transform: rotate(180deg); }
    
    /* コンタクトセクション */
    .contact-card {
      background: var(--white); border-radius: var(--radius-2xl); padding: var(--spacing-8);
      box-shadow: var(--shadow-lg); text-align: center; position: relative; overflow: hidden;
    }
    .contact-card::before {
      content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 5px;
      background: var(--app-gradient); /* App specific */
    }
    .contact-icon {
      font-size: var(--fs-5xl); margin-bottom: var(--spacing-6); width: 80px; height: 80px;
      display: flex; align-items: center; justify-content: center; border-radius: 50%;
      margin: 0 auto var(--spacing-6);
      color: var(--app-color); /* App specific */
      background-color: color-mix(in srgb, var(--app-color) 10%, transparent); /* App specific, needs browser support or fallback */
    }
    .contact-card h3 { margin-bottom: var(--spacing-6); position: relative; display: inline-block; }
    .contact-card h3::after {
      content: ''; position: absolute; left: 50%; bottom: -10px; transform: translateX(-50%);
      width: 30px; height: 3px; border-radius: 1.5px; background: var(--app-color); /* App specific */
    }
    .contact-email { font-size: var(--fs-xl); font-weight: 700; margin-bottom: var(--spacing-8); display: inline-block; color: var(--app-color); /* App specific */ }
    
    /* ユーザーレビューセクション */
    .testimonials { position: relative; overflow: hidden; }
    .testimonials-slider {
      display: flex; overflow-x: auto; scroll-snap-type: x mandatory; gap: var(--spacing-6);
      padding: var(--spacing-4) var(--spacing-4) var(--spacing-8); margin: 0 -var(--spacing-4);
      scrollbar-width: none; -ms-overflow-style: none;
    }
    .testimonials-slider::-webkit-scrollbar { display: none; }
    .testimonial-item {
      scroll-snap-align: center; min-width: 300px; flex: 0 0 calc(33.333% - var(--spacing-6));
      background: var(--white); border-radius: var(--radius-xl); padding: var(--spacing-6);
      box-shadow: var(--shadow-md); display: flex; flex-direction: column; position: relative;
      transition: all var(--transition-normal);
    }
    .testimonial-item:hover { transform: translateY(-5px); box-shadow: var(--shadow-xl); }
    .testimonial-item::before {
      content: '\201C'; font-size: 5rem; position: absolute; top: -15px; left: 10px;
      font-family: serif; line-height: 1; opacity: 0.1; color: var(--app-color); /* App specific */
    }
    .testimonial-content { flex-grow: 1; margin-bottom: var(--spacing-4); font-style: italic; color: var(--gray-dark); }
    .testimonial-author { display: flex; align-items: center; gap: var(--spacing-3); }
    .testimonial-avatar {
      width: 40px; height: 40px; border-radius: 50%; overflow: hidden; background-color: var(--gray-light);
      display: flex; align-items: center; justify-content: center; color: var(--gray-dark); font-weight: 700;
    }
    .testimonial-info h4 { margin: 0; font-size: var(--fs-base); }
    .testimonial-info p { margin: 0; font-size: var(--fs-sm); color: var(--gray-medium); }
    .rating { display: flex; align-items: center; gap: 2px; margin-top: var(--spacing-1); }
    .rating i { color: #FFD700; font-size: var(--fs-sm); }
    
    /* アップデートログセクション */
    .update-log { position: relative; background: var(--white); border-radius: var(--radius-2xl); padding: var(--spacing-8); box-shadow: var(--shadow-lg); margin-bottom: var(--spacing-12); }
    .update-timeline { position: relative; padding-left: 30px; }
    .update-timeline::before {
      content: ''; position: absolute; top: 0; left: 0; width: 2px; height: 100%;
      background-color: color-mix(in srgb, var(--app-color) 20%, transparent); /* App specific */
    }
    .update-item { position: relative; margin-bottom: var(--spacing-8); }
    .update-item:last-child { margin-bottom: 0; }
    .update-item::before {
      content: ''; position: absolute; top: 0; left: -30px; width: 16px; height: 16px;
      border-radius: 50%; background-color: var(--white); border: 2px solid var(--app-color); /* App specific */
      z-index: 1;
    }
    .update-item h3 { margin-bottom: var(--spacing-2); font-size: var(--fs-lg); }
    .update-date { font-size: var(--fs-sm); color: var(--gray-medium); margin-bottom: var(--spacing-3); display: block; }
    .update-content { background: var(--gray-light); border-radius: var(--radius-md); padding: var(--spacing-4); }
    .update-list { margin: 0; padding: 0; list-style-type: none; }
    .update-list li { margin-bottom: var(--spacing-2); display: flex; align-items: flex-start; gap: var(--spacing-2); }
    .update-list li:last-child { margin-bottom: 0; }
    .update-list li i { margin-top: 5px; color: var(--app-color); /* App specific */ }
    
    /* フッター */
    .footer {
      padding: var(--spacing-12) 0; color: var(--white); position: relative;
      background: var(--app-dark); /* App specific */
    }
    .footer::before {
      content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
      background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MDAiIGhlaWdodD0iNTAwIiB2aWV3Qm94PSIwIDAgNTAwIDUwMCI+CiAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmIiBvcGFjaXR5PSIwLjA1Ij4KICAgIDxjaXJjbGUgY3g9IjEwMCIgY3k9IjEwMCIgcj0iODAiIC8+CiAgICA8Y2lyY2xlIGN4PSI0MDAiIGN5PSIzMDAiIHI9IjEyMCIgLz4KICAgIDxjaXJjbGUgY3g9IjIyMCIgY3k9IjQwMCIgcj0iNjAiIC8+CiAgICA8Y2lyY2xlIGN4PSI0NTAiIGN5PSI5MCIgcj0iMzAiIC8+CiAgICA8Y2lyY2xlIGN4PSIzMCIgY3k9IjI4MCIgcj0iNDAiIC8+CiAgICA8Y2lyY2xlIGN4PSIzNTAiIGN5PSIxNTAiIHI9IjcwIiAvPgogIDwvZz4KPC9zdmc+');
      opacity: 0.1; pointer-events: none;
    }
    .footer-content { display: flex; flex-wrap: wrap; justify-content: space-between; gap: var(--spacing-8); position: relative; z-index: 1; }
    .footer-brand { flex: 0 0 300px; }
    .footer-logo { display: flex; align-items: center; margin-bottom: var(--spacing-4); gap: var(--spacing-3); }
    .footer-logo img { height: 45px; border-radius: 0; }
    .footer-logo h3 { color: var(--white); margin: 0; font-size: var(--fs-xl); }
    .footer-company { margin-top: var(--spacing-2); margin-bottom: var(--spacing-4); color: rgba(255,255,255,0.8); }
    .footer-social { display: flex; gap: var(--spacing-3); margin-top: var(--spacing-4); }
    .social-icon {
      width: 40px; height: 40px; border-radius: 50%; background: rgba(255,255,255,0.1);
      display: flex; align-items: center; justify-content: center; color: var(--white);
      font-size: var(--fs-lg); transition: all var(--transition-normal);
    }
    .social-icon:hover { background: rgba(255,255,255,0.2); transform: translateY(-3px); color: var(--white); }
    .footer-nav { display: grid; grid-template-columns: repeat(3, 1fr); gap: var(--spacing-8); }
    .footer-col h4 { color: var(--white); margin-bottom: var(--spacing-4); font-size: var(--fs-lg); position: relative; padding-bottom: var(--spacing-2); }
    .footer-col h4::after {
      content: ''; position: absolute; bottom: 0; left: 0; width: 30px; height: 2px;
      background-color: var(--white); opacity: 0.5;
    }
    .footer-links { list-style-type: none; padding: 0; margin: 0; }
    .footer-links li { margin-bottom: var(--spacing-2); }
    .footer-links a { color: rgba(255,255,255,0.7); transition: all var(--transition-fast); }
    .footer-links a:hover { color: var(--white); padding-left: var(--spacing-2); }
    .footer-bottom {
      text-align: center; margin-top: var(--spacing-8); padding-top: var(--spacing-8);
      border-top: 1px solid rgba(255,255,255,0.1); font-size: var(--fs-sm);
      color: rgba(255,255,255,0.7); position: relative; z-index: 1;
    }
    
    /* スクロールトップボタン */
    .scroll-top {
      position: fixed; bottom: var(--spacing-6); right: var(--spacing-6); width: 50px; height: 50px;
      background-color: var(--app-color); /* App specific */
      color: var(--white); border-radius: 50%; display: flex; align-items: center; justify-content: center;
      font-size: var(--fs-xl); cursor: pointer; opacity: 0; visibility: hidden;
      transform: translateY(20px); transition: all var(--transition-normal);
      box-shadow: var(--shadow-lg); z-index: 100;
    }
    .scroll-top.active { opacity: 1; visibility: visible; transform: translateY(0); }
    .scroll-top:hover { transform: translateY(-5px); }

    /* 動画ボタンスタイル */
    .hero-buttons {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      justify-content: center;
      align-items: center;
    }

    .video-btn {
      background: rgba(255, 255, 255, 0.1);
      border: 2px solid rgba(255, 255, 255, 0.3);
      color: white;
      padding: 12px 24px;
      border-radius: 50px;
      text-decoration: none;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
      cursor: pointer;
      font-size: 1rem;
    }

    .video-btn:hover {
      background: rgba(255, 255, 255, 0.2);
      border-color: rgba(255, 255, 255, 0.5);
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
    }

    .video-btn i {
      font-size: 1.1em;
    }

    /* 動画モーダルスタイル */
    .video-modal {
      display: none;
      position: fixed;
      z-index: 10000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.9);
      backdrop-filter: blur(5px);
    }

    .video-modal-content {
      position: relative;
      margin: 5% auto;
      width: 90%;
      max-width: 900px;
      background: #000;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    }

    .video-modal-close {
      position: absolute;
      top: 15px;
      right: 25px;
      color: white;
      font-size: 35px;
      font-weight: bold;
      cursor: pointer;
      z-index: 10001;
      transition: color 0.3s ease;
    }

    .video-modal-close:hover {
      color: #ff6b6b;
    }

    .video-container {
      position: relative;
      width: 100%;
      height: 0;
      padding-bottom: 56.25%; /* 16:9 aspect ratio */
    }

    .video-container video {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: contain;
    }
    
    /* アニメーション (省略) */
    [data-aos]{opacity:0;transition-property:opacity,transform}[data-aos].aos-animate{opacity:1}[data-aos=fade-up]{transform:translateY(30px)}[data-aos=fade-up].aos-animate{transform:translateY(0)}[data-aos=fade-down]{transform:translateY(-30px)}[data-aos=fade-down].aos-animate{transform:translateY(0)}[data-aos=fade-right]{transform:translateX(-30px)}[data-aos=fade-right].aos-animate{transform:translateX(0)}[data-aos=fade-left]{transform:translateX(30px)}[data-aos=fade-left].aos-animate{transform:translateX(0)}[data-aos=zoom-in]{transform:scale(.9)}[data-aos=zoom-in].aos-animate{transform:scale(1)}

    /* レスポンシブデザイン (変更なしの部分は省略) */
    @media (max-width: 1200px) {
      :root { --fs-5xl: 2.5rem; --fs-4xl: 2rem; --fs-3xl: 1.75rem; }
      .app-screen { height: 450px; }
    }
    @media (max-width: 992px) {
      :root { --fs-5xl: 2.25rem; --fs-4xl: 1.875rem; --fs-3xl: 1.5rem; --fs-2xl: 1.25rem; }
      .navbar-menu { display: none; position: fixed; top: 0; /* JS adjusts this */ left: 0; width: 100%; background-color: var(--white); flex-direction: column; padding: var(--spacing-4); box-shadow: var(--shadow-md); z-index: 999; }
      .navbar-menu.active { display: flex; }
      .navbar-toggle { display: block; }
      .col-md-6 { flex: 0 0 100%; max-width: 100%; margin-bottom: var(--spacing-6); }
      .testimonial-item { flex: 0 0 calc(50% - var(--spacing-6)); }
      .footer-nav { grid-template-columns: repeat(2, 1fr); }
      .app-screen { height: 400px; }
    }
    @media (max-width: 768px) {
      :root { --fs-5xl: 2rem; --fs-4xl: 1.75rem; --fs-3xl: 1.5rem; --fs-2xl: 1.25rem; --fs-xl: 1.125rem; }
      .app-selector { flex-direction: column; gap: var(--spacing-3); }
      .app-tab { width: 100%; min-width: auto; } /* Adjust for stacked tabs */
      .app-screens { flex-direction: column; align-items: center; }
      .app-screen { transform: none !important; margin-bottom: var(--spacing-6); height: auto; max-width: 300px; }
      .testimonial-item { flex: 0 0 calc(100% - var(--spacing-6)); }
      .footer-content { flex-direction: column; gap: var(--spacing-8); }
      .footer-brand { flex: 0 0 100%; text-align: center; }
      .footer-logo, .footer-social { justify-content: center; }
      .footer-nav { grid-template-columns: 1fr; text-align: center; }
      .footer-col h4::after { left: 50%; transform: translateX(-50%); }
      
      /* 動画ボタンのレスポンシブ対応 */
      .hero-buttons {
        flex-direction: column;
        gap: 0.8rem;
      }

      .video-btn {
        width: 100%;
        justify-content: center;
        padding: 14px 20px;
      }

      .video-modal-content {
        margin: 10% auto;
        width: 95%;
      }

      .video-modal-close {
        top: 10px;
        right: 15px;
        font-size: 28px;
      }
    }
    @media (max-width: 576px) {
      :root { --fs-5xl: 1.75rem; --fs-4xl: 1.5rem; --fs-3xl: 1.375rem; --fs-2xl: 1.25rem; --fs-xl: 1.125rem; --fs-lg: 1rem; }
      .hero { padding: var(--spacing-8) 0; }
      .section { padding: var(--spacing-8) 0; }
      .download-btn { padding: var(--spacing-3) var(--spacing-5); font-size: var(--fs-base); }
      .section-title h2 { font-size: var(--fs-3xl); }
      .grid { grid-template-columns: 1fr; }
      .language-switcher { position: static; }
      .language-dropdown { right: var(--spacing-4); left: auto; transform-origin: top right; min-width: calc(100vw - var(--spacing-8)); }
    }
  </style>
</head>

<body class="gpt-app"> <!-- Default to gpt-app, JS will manage -->
  <!-- アプリケーションシェル -->
  <div id="app-shell" style="display: flex; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: #f5f5f7; z-index: 9999; align-items: center; justify-content: center; flex-direction: column; gap: 1rem;">
    <img src="logo.PNG" alt="TrailFusion Logo" style="width: 80px; height: 80px; animation: pulse 2s infinite;">
    <div style="width: 200px; height: 4px; background-color: #eee; border-radius: 4px; overflow: hidden; position: relative;">
      <div id="loading-bar" style="width: 0; height: 100%; background: linear-gradient(90deg, var(--primary-color), var(--primary-light)); transition: width 0.3s;"></div>
    </div>
    <p style="margin: 0; color: #718096; font-size: 14px;" data-i18n-key="loading_text">Loading...</p>
  </div>
  
  <!-- ナビゲーションバー -->
  <nav class="navbar">
    <div class="container navbar-container">
      <div class="navbar-logo">
        <img src="logo.PNG" alt="TrailFusion Logo">
        <h2>TrailFusion AI</h2>
      </div>
      <div class="navbar-menu" id="navbar-menu">
        <a href="#features" class="nav-link" data-i18n-key="nav_features">機能</a>
        <a href="#screenshots" class="nav-link" data-i18n-key="nav_screenshots">スクリーンショット</a>
        <a href="#testimonials" class="nav-link" data-i18n-key="nav_testimonials">ユーザーレビュー</a>
        <a href="#updates" class="nav-link" data-i18n-key="nav_updates">更新情報</a>
        <a href="#faq" class="nav-link" data-i18n-key="nav_faq">FAQ</a>
        <a href="#contact" class="nav-link" data-i18n-key="nav_contact">お問い合わせ</a>
      </div>
      <div class="navbar-actions">
        <div class="language-switcher">
          <div class="language-btn"></div>
          <div class="language-dropdown"></div>
        </div>
        <button class="navbar-toggle" id="navbar-toggle" aria-label="Toggle navigation menu">
          <i class="fas fa-bars"></i>
        </button>
      </div>
    </div>
  </nav>
  
  <div class="navbar-spacer"></div>
  
  <div class="main-content">
    <div class="container">
      <!-- アプリ選択 -->
      <div class="app-selector">
        <div class="app-tab gpt-tab active" data-target="gpt-app" data-aos="fade-up">
          <i class="fas fa-language"></i>
          <span data-i18n-key="app_tab_gp_teachers">GPティーチャーズ</span>
        </div>
        <div class="app-tab golem-tab" data-target="golem-app" data-aos="fade-up" data-aos-delay="100">
          <i class="fas fa-tree"></i>
          <span data-i18n-key="app_tab_wood_golem">森のウッドゴーレム</span>
        </div>
        <div class="app-tab wordblaster-tab" data-target="wordblaster-app" data-aos="fade-up" data-aos-delay="200">
            <i class="fas fa-rocket"></i> <!-- アイコン例 -->
            <span data-i18n-key="app_tab_word_blaster">ワードブラスター</span>
        </div>
        <div class="app-tab ronpa-tab" data-target="ronpa-app" data-aos="fade-up" data-aos-delay="300">
            <i class="fas fa-microphone-alt"></i> <!-- アイコン例 -->
            <span data-i18n-key="app_tab_ronpa_king">論破王</span>
        </div>
        <div class="app-tab hackingtimer-tab" data-target="hackingtimer-app" data-aos="fade-up" data-aos-delay="400">
            <i class="fas fa-stopwatch-20"></i> <!-- アイコン例 -->
            <span data-i18n-key="app_tab_hacking_timer">ハッキングタイマー</span>
        </div>
      </div>
      
      <!-- GPティーチャーズのコンテンツ -->
      <div id="gpt-app" class="app-content gpt-app active">
        <!-- ヒーローセクション -->
        <section class="hero">
          <div class="hero-content">
            <h1 data-aos="fade-down" data-i18n-key="gpt_hero_title">GPティーチャーズ</h1>
            <p data-aos="fade-up" data-aos-delay="100" data-i18n-key="gpt_hero_desc">AI英会話パートナーとリアルな練習！個性豊かな先生たちと、いつでもどこでも英語力アップ。</p>
            <div class="hero-buttons" data-aos="zoom-in" data-aos-delay="200">
              <a href="https://apps.apple.com/jp/app/gp-teachers-ai%E8%8B%B1%E4%BC%9A%E8%A9%B1-%E8%8B%B1%E5%8D%98%E8%AA%9E%E3%82%B2%E3%83%BC%E3%83%A0/id6744263274" class="download-btn" target="_blank">
                <i class="fab fa-apple"></i> <span data-i18n-key="download_appstore">App Storeでダウンロード</span>
              </a>
              <button class="video-btn" onclick="openVideoModal('gpt-video')">
                <i class="fas fa-play"></i> <span data-i18n-key="watch_demo">デモ動画を見る</span>
              </button>
            </div>
            <div class="app-screens">
              <img src="images/gpt_hero_main.jpg" alt="英会話画面" class="app-screen" data-aos="fade-right" data-aos-delay="300" data-i18n-alt-key="gpt_alt_conversation_screen">
              <img src="images/gpt_feature_levels.jpg" alt="コース選択画面" class="app-screen" data-aos="fade-left" data-aos-delay="300" data-i18n-alt-key="gpt_alt_course_selection_screen">
            </div>
          </div>
        </section>
        
        <section id="features-gpt" class="section section-white">
          <div class="container">
            <div class="section-title">
              <span class="badge badge-primary" data-aos="fade-up" data-i18n-key="gpt_features_badge">アプリの特徴</span>
              <h2 data-aos="fade-up" data-aos-delay="100" data-i18n-key="gpt_features_title">GPティーチャーズの魅力</h2>
              <p data-aos="fade-up" data-aos-delay="200" data-i18n-key="gpt_features_desc_no_wb">「GPティーチャーズ」は、AIとの対話を通じて英会話力を実践的に高めることができる革新的な英語学習アプリです。</p>
            </div>
            <div class="grid">
              <div class="card" data-aos="fade-up">
                <div class="card-icon"><i class="fas fa-comments"></i></div>
                <h3 data-i18n-key="gpt_feature1_title">リアルな英会話練習</h3>
                <p data-i18n-key="gpt_feature1_desc">個性豊かな先生キャラクターと実際に会話できます。先進的な音声認識技術で話した英語を自動認識し、AIが自然な英語で返答します。</p>
                <img src="images/gpt_feature_conversation.jpg" alt="翻訳機能付き英会話画面" class="card-image" data-i18n-alt-key="gpt_feature1_alt">
              </div>
              <div class="card" data-aos="fade-up" data-aos-delay="100">
                <div class="card-icon"><i class="fas fa-graduation-cap"></i></div>
                <h3 data-i18n-key="gpt_feature2_title">レベル別コース構成</h3>
                <p data-i18n-key="gpt_feature2_desc">日常英会話コース（初級・中級・上級）と英文法コース（中学1年・2年・3年レベル）から選べます。自分のレベルに合わせて学習を進められます。</p>
                <img src="images/gpt_feature_levels.jpg" alt="英語コース選択画面" class="card-image" data-i18n-alt-key="gpt_feature2_alt">
              </div>
              <div class="card" data-aos="fade-up" data-aos-delay="200">
                <div class="card-icon"><i class="fas fa-book"></i></div>
                <h3 data-i18n-key="gpt_feature3_title">フレーズブック機能</h3>
                <p data-i18n-key="gpt_feature3_desc">レッスンごとに役立つ英語フレーズを収録。音声で発音を聞けたり、お気に入り登録で復習しやすくなっています。</p>
                <img src="images/gpt_feature_phrasebook.jpg" alt="フレーズブックとタスク画面" class="card-image" data-i18n-alt-key="gpt_feature3_alt">
              </div>
              <div class="card" data-aos="fade-up">
                <div class="card-icon"><i class="fas fa-chart-line"></i></div>
                <h3 data-i18n-key="gpt_feature5_title">学習進捗管理</h3>
                <p data-i18n-key="gpt_feature5_desc">学習統計でこれまでの成果を確認でき、間違えやすいポイントを特定して集中学習できます。</p>
                <img src="images/gpt_feature_progress.jpg" alt="学習チャレンジとカレンダー画面" class="card-image" data-i18n-alt-key="gpt_feature5_alt">
              </div>
              <div class="card" data-aos="fade-up" data-aos-delay="100">
                <div class="card-icon"><i class="fas fa-brain"></i></div>
                <h3 data-i18n-key="gpt_feature6_title">AIパーソナルトレーナー</h3>
                <p data-i18n-key="gpt_feature6_desc">あなたの学習パターンを分析し、最適な学習プランを提案。弱点を自動検出し、効率的に英語力を伸ばします。</p>
              </div>
            </div>
          </div>
        </section>
        
        <!-- 他のGPティーチャーズセクション (レビュー、FAQなど) は既存のものを流用・調整 -->
        <section id="testimonials-gpt" class="section section-white">
            <div class="container">
                <div class="section-title">
                  <span class="badge badge-primary" data-aos="fade-up" data-i18n-key="gpt_testimonials_badge">ユーザーの声</span>
                  <h2 data-aos="fade-up" data-aos-delay="100" data-i18n-key="gpt_testimonials_title">みんなの評価</h2>
                  <p data-aos="fade-up" data-aos-delay="200" data-i18n-key="gpt_testimonials_desc">GPティーチャーズを使用している方々からの声をご紹介します。</p>
                </div>
                <div class="testimonials-slider" data-aos="fade-up" data-aos-delay="300">
                  <!-- GPTレビュー項目 -->
                  <div class="testimonial-item">
                    <div class="testimonial-content" data-i18n-key="gpt_review1_content">英会話の練習にぴったり！AIが自然な会話をしてくれるので、スピーキング力が向上しました。</div>
                    <div class="testimonial-author"><div class="testimonial-avatar"><i class="fas fa-user"></i></div><div class="testimonial-info"><h4 data-i18n-key="gpt_review1_author">佐藤 美咲</h4><p data-i18n-key="gpt_review1_author_info">会社員 / 32歳</p><div class="rating"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div></div></div>
                  </div>
                  <div class="testimonial-item">
                    <div class="testimonial-content" data-i18n-key="gpt_review2_content_no_wb">レベル別のコースが充実していて、自分のペースで学べるのが良いです。フレーズブックも復習に役立ちます。</div>
                    <div class="testimonial-author"><div class="testimonial-avatar"><i class="fas fa-user"></i></div><div class="testimonial-info"><h4 data-i18n-key="gpt_review2_author">田中 悠人</h4><p data-i18n-key="gpt_review2_author_info">高校生 / 17歳</p><div class="rating"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star-half-alt"></i></div></div></div>
                  </div>
                </div>
            </div>
        </section>
        <section id="faq-gpt" class="section section-white">
            <div class="container">
                <div class="section-title">
                  <span class="badge badge-primary" data-aos="fade-up" data-i18n-key="gpt_faq_badge">サポート</span>
                  <h2 data-aos="fade-up" data-aos-delay="100" data-i18n-key="gpt_faq_title">よくある質問（FAQ）</h2>
                  <p data-aos="fade-up" data-aos-delay="200" data-i18n-key="gpt_faq_desc">GPティーチャーズに関するよくある質問と回答をご紹介します。</p>
                </div>
                <div class="accordion-container">
                    <div class="accordion" data-aos="fade-up"><div class="accordion-header"><h4 data-i18n-key="gpt_faq1_q">インストール後すぐに使えますか？</h4><span class="accordion-toggle"><i class="fas fa-chevron-down"></i></span></div><div class="accordion-content"><div class="accordion-inner"><p data-i18n-key="gpt_faq1_a">はい、インストール後すぐにお使いいただけます。初回起動時に簡単な設定があります。</p></div></div></div>
                    <div class="accordion" data-aos="fade-up" data-aos-delay="100"><div class="accordion-header"><h4 data-i18n-key="gpt_faq2_q">どのような英語レベルに対応していますか？</h4><span class="accordion-toggle"><i class="fas fa-chevron-down"></i></span></div><div class="accordion-content"><div class="accordion-inner"><p data-i18n-key="gpt_faq2_a">初級者から上級者まで幅広く対応しています。レベル別のコース構成になっています。</p></div></div></div>
                </div>
            </div>
        </section>
        <section id="contact-gpt" class="section">
            <div class="container">
                <div class="section-title">
                  <span class="badge badge-primary" data-aos="fade-up" data-i18n-key="gpt_contact_badge">お問い合わせ</span>
                  <h2 data-aos="fade-up" data-aos-delay="100" data-i18n-key="gpt_contact_title">サポートについて</h2>
                  <p data-aos="fade-up" data-aos-delay="200" data-i18n-key="gpt_contact_desc">アプリに関するご質問やご要望がありましたら、お気軽にお問い合わせください。</p>
                </div>
                <div class="contact-card" data-aos="fade-up" data-aos-delay="300">
                  <div class="contact-icon"><i class="fas fa-envelope"></i></div>
                  <h3 data-i18n-key="gpt_contact_heading">お問い合わせ先</h3>
                  <a href="mailto:trailfusionai@gmail.com" class="contact-email">trailfusionai@gmail.com</a>
                </div>
            </div>
        </section>
      </div>
      
      <!-- 森のウッドゴーレムのコンテンツ -->
      <div id="golem-app" class="app-content golem-app">
        <!-- ヒーローセクション -->
        <section class="hero">
          <div class="hero-content">
            <h1 data-aos="fade-down" data-i18n-key="golem_hero_title">棒取り攻略！森のウッドゴーレム大冒険</h1>
            <p data-aos="fade-up" data-aos-delay="100" data-i18n-key="golem_hero_desc">一風変わったパズルゲームで小さな木のゴーレムと一緒に大冒険へ出かけよう</p>
            <a href="https://apps.apple.com/jp/app/%E6%A3%92%E5%8F%96%E3%82%8A%E6%94%BB%E7%95%A5-%E6%A3%AE%E3%81%AE%E3%82%A6%E3%83%83%E3%83%89%E3%82%B4%E3%83%BC%E3%83%AC%E3%83%A0%E5%A4%A7%E5%86%92%E9%99%BA/id6739466549" class="download-btn" data-aos="zoom-in" data-aos-delay="200" target="_blank">
              <i class="fab fa-apple"></i> <span data-i18n-key="download_appstore">App Storeでダウンロード</span>
            </a>
            <div class="app-screens">
              <img src="images/wg_hero_title.png" alt="ウッドゴーレムタイトル画面" class="app-screen" data-aos="fade-up" data-aos-delay="300" data-i18n-alt-key="golem_alt_title_screen">
              <img src="images/wg_gameplay1.png" alt="ウッドゴーレムゲーム画面" class="app-screen" data-aos="fade-up" data-aos-delay="300" data-i18n-alt-key="golem_alt_gameplay_screen">
            </div>
          </div>
        </section>
        <!-- 他のウッドゴーレムセクション (特徴、レビュー、FAQなど) は既存のものを流用・調整 -->
        <section id="features-golem" class="section section-white">
            <div class="container">
                <div class="section-title">
                    <span class="badge badge-primary" data-aos="fade-up" data-i18n-key="golem_features_badge">ゲーム特徴</span>
                    <h2 data-aos="fade-up" data-aos-delay="100" data-i18n-key="golem_features_title">ゲームの魅力</h2>
                </div>
                <div class="grid">
                    <div class="card" data-aos="fade-up"><div class="card-icon"><i class="fas fa-chess-knight"></i></div><h3 data-i18n-key="golem_feature1_title">深遠な戦略性</h3><p data-i18n-key="golem_feature1_desc">各ステージは複雑な戦略を要求し、プレイヤーの思考力を試します。</p><img src="images/wg_golem_growth.png" alt="ゴーレム成長" class="card-image" data-i18n-alt-key="golem_feature1_alt"></div>
                    <div class="card" data-aos="fade-up" data-aos-delay="100"><div class="card-icon"><i class="fas fa-seedling"></i></div><h3 data-i18n-key="golem_feature2_title">成長物語</h3><p data-i18n-key="golem_feature2_desc">小さなゴーレムがあなたの手によって成長していく過程を楽しめます。</p><img src="images/wg_story_scene.png" alt="ストーリー" class="card-image" data-i18n-alt-key="golem_feature2_alt"></div>
                </div>
            </div>
        </section>
        
        <!-- ウッドゴーレム攻略法セクション -->
        <section id="strategy-golem" class="section">
            <div class="container">
                <div class="section-title">
                    <span class="badge badge-primary" data-aos="fade-up" data-i18n-key="golem_strategy_badge">攻略ガイド</span>
                    <h2 data-aos="fade-up" data-aos-delay="100" data-i18n-key="golem_strategy_title">ウッドゴーレム完全攻略法</h2>
                    <p data-aos="fade-up" data-aos-delay="200" data-i18n-key="golem_strategy_desc">ニム理論に基づく必勝法を図解で分かりやすく解説します。</p>
                </div>
                
                <!-- 基本ルール -->
                <div class="strategy-section" data-aos="fade-up" data-aos-delay="300">
                    <h3 data-i18n-key="golem_basic_rules_title">🎯 基本ルール</h3>
                    <div class="rule-explanation">
                        <div class="rule-visual">
                            <div class="stick-diagram">
                                <div class="stick-row">
                                    <span class="row-label">段1:</span>
                                    <div class="stick active"></div>
                                    <div class="stick active"></div>
                                    <div class="stick active"></div>
                                </div>
                                <div class="stick-row">
                                    <span class="row-label">段2:</span>
                                    <div class="stick active"></div>
                                    <div class="stick active"></div>
                                    <div class="stick active"></div>
                                    <div class="stick active"></div>
                                    <div class="stick active"></div>
                                </div>
                                <div class="stick-row">
                                    <span class="row-label">段3:</span>
                                    <div class="stick active"></div>
                                    <div class="stick active"></div>
                                </div>
                            </div>
                        </div>
                        <div class="rule-text">
                            <ul data-i18n-key="golem_basic_rules_list">
                                <li>各段から1本以上の棒を取る</li>
                                <li>同じ段からなら何本でも取れる</li>
                                <li>最後の1本を取った人が負け</li>
                                <li>相手に最後の1本を取らせれば勝利</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <!-- 必勝パターン1: 終盤戦略 -->
                <div class="strategy-section" data-aos="fade-up" data-aos-delay="400">
                    <h3 data-i18n-key="golem_endgame_title">🏆 必勝パターン1: 終盤戦略</h3>
                    <div class="strategy-pattern">
                        <div class="pattern-case">
                            <h4 data-i18n-key="golem_case1_title">ケース1: 大きな山が1つ + 1本山が複数</h4>
                            <div class="case-visual">
                                <div class="before-after">
                                    <div class="game-state">
                                        <h5>現在の状況</h5>
                                        <div class="stick-diagram">
                                            <div class="stick-row">
                                                <span class="row-label">段1:</span>
                                                <div class="stick active"></div>
                                                <div class="stick active"></div>
                                                <div class="stick active"></div>
                                                <div class="stick active"></div>
                                                <div class="stick active highlight"></div>
                                            </div>
                                            <div class="stick-row">
                                                <span class="row-label">段2:</span>
                                                <div class="stick active"></div>
                                            </div>
                                            <div class="stick-row">
                                                <span class="row-label">段3:</span>
                                                <div class="stick active"></div>
                                            </div>
                                        </div>
                                        <p class="state-info">5本山×1 + 1本山×2 = 偶数個の1本山</p>
                                    </div>
                                    <div class="arrow">→</div>
                                    <div class="game-state">
                                        <h5>最適な手</h5>
                                        <div class="stick-diagram">
                                            <div class="stick-row">
                                                <span class="row-label">段1:</span>
                                                <div class="stick removed"></div>
                                                <div class="stick removed"></div>
                                                <div class="stick removed"></div>
                                                <div class="stick removed"></div>
                                                <div class="stick active"></div>
                                            </div>
                                            <div class="stick-row">
                                                <span class="row-label">段2:</span>
                                                <div class="stick active"></div>
                                            </div>
                                            <div class="stick-row">
                                                <span class="row-label">段3:</span>
                                                <div class="stick active"></div>
                                            </div>
                                        </div>
                                        <p class="state-info">4本取って1本残し → 1本山×3 = 奇数個</p>
                                    </div>
                                </div>
                            </div>
                            <div class="strategy-explanation">
                                <p data-i18n-key="golem_case1_explanation">
                                    <strong>戦略:</strong> 1本山が偶数個の時は、大きな山を1本残しにして奇数個にする。
                                    1本山が奇数個の時は、大きな山を全部取って奇数個を維持する。
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 必勝パターン2: ニム和戦略 -->
                <div class="strategy-section" data-aos="fade-up" data-aos-delay="500">
                    <h3 data-i18n-key="golem_nim_title">🧮 必勝パターン2: ニム和戦略</h3>
                    <div class="strategy-pattern">
                        <div class="nim-explanation">
                            <h4 data-i18n-key="golem_nim_concept_title">ニム和とは？</h4>
                            <p data-i18n-key="golem_nim_concept_desc">各段の棒の本数をXOR演算（排他的論理和）で計算した値です。</p>
                            
                            <div class="nim-calculation">
                                <div class="calculation-example">
                                    <h5>計算例</h5>
                                    <div class="calc-step">
                                        <div class="binary-table">
                                            <table>
                                                <tr><th>段</th><th>本数</th><th>2進数</th></tr>
                                                <tr><td>1</td><td>3</td><td>011</td></tr>
                                                <tr><td>2</td><td>5</td><td>101</td></tr>
                                                <tr><td>3</td><td>2</td><td>010</td></tr>
                                                <tr class="result"><td colspan="2"><strong>ニム和</strong></td><td><strong>100 (=4)</strong></td></tr>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="nim-strategy">
                                    <h5 data-i18n-key="golem_nim_strategy_title">ニム和戦略</h5>
                                    <div class="strategy-rules">
                                        <div class="rule-box winning">
                                            <h6>✅ 勝利条件</h6>
                                            <p>ニム和 = 0 の状態を作る</p>
                                        </div>
                                        <div class="rule-box losing">
                                            <h6>❌ 敗北条件</h6>
                                            <p>ニム和 ≠ 0 の状態で手番が回る</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="nim-example">
                            <h4 data-i18n-key="golem_nim_example_title">実践例</h4>
                            <div class="before-after">
                                <div class="game-state">
                                    <h5>現在の状況 (ニム和 = 4)</h5>
                                    <div class="stick-diagram">
                                        <div class="stick-row">
                                            <span class="row-label">段1:</span>
                                            <div class="stick active"></div>
                                            <div class="stick active"></div>
                                            <div class="stick active"></div>
                                        </div>
                                        <div class="stick-row">
                                            <span class="row-label">段2:</span>
                                            <div class="stick active"></div>
                                            <div class="stick active"></div>
                                            <div class="stick active"></div>
                                            <div class="stick active"></div>
                                            <div class="stick active highlight"></div>
                                        </div>
                                        <div class="stick-row">
                                            <span class="row-label">段3:</span>
                                            <div class="stick active"></div>
                                            <div class="stick active"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="arrow">→</div>
                                <div class="game-state">
                                    <h5>最適な手 (ニム和 = 0)</h5>
                                    <div class="stick-diagram">
                                        <div class="stick-row">
                                            <span class="row-label">段1:</span>
                                            <div class="stick active"></div>
                                            <div class="stick active"></div>
                                            <div class="stick active"></div>
                                        </div>
                                        <div class="stick-row">
                                            <span class="row-label">段2:</span>
                                            <div class="stick active"></div>
                                        </div>
                                        <div class="stick-row">
                                            <span class="row-label">段3:</span>
                                            <div class="stick active"></div>
                                            <div class="stick active"></div>
                                        </div>
                                    </div>
                                    <p class="move-explanation">段2から4本取る → 5^4 = 1本残し</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 実践的な判断フロー -->
                <div class="strategy-section" data-aos="fade-up" data-aos-delay="600">
                    <h3 data-i18n-key="golem_flowchart_title">🎯 実践的な判断フロー</h3>
                    <div class="flowchart">
                        <div class="flow-step">
                            <div class="step-box start">
                                <h4>ゲーム開始</h4>
                                <p>現在の盤面を確認</p>
                            </div>
                            <div class="arrow-down">↓</div>
                        </div>
                        
                        <div class="flow-step">
                            <div class="step-box decision">
                                <h4>大きな山(3本以上)は何個？</h4>
                            </div>
                            <div class="flow-branches">
                                <div class="branch">
                                    <div class="branch-label">1個だけ</div>
                                    <div class="arrow-right">→</div>
                                    <div class="step-box action">
                                        <h4>終盤戦略を使用</h4>
                                        <p>1本山の個数を確認<br>
                                        偶数→大きな山を1本残し<br>
                                        奇数→大きな山を全取り</p>
                                    </div>
                                </div>
                                
                                <div class="branch">
                                    <div class="branch-label">2個以上</div>
                                    <div class="arrow-right">→</div>
                                    <div class="step-box decision">
                                        <h4>ニム和を計算</h4>
                                        <div class="sub-branches">
                                            <div class="sub-branch">
                                                <span>ニム和 = 0</span>
                                                <div class="arrow-right">→</div>
                                                <div class="step-box wait">
                                                    <p>相手の手を待つ<br>(有利な状況)</p>
                                                </div>
                                            </div>
                                            <div class="sub-branch">
                                                <span>ニム和 ≠ 0</span>
                                                <div class="arrow-right">→</div>
                                                <div class="step-box action">
                                                    <p>ニム和を0にする手を打つ</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="branch">
                                    <div class="branch-label">0個(全て1本以下)</div>
                                    <div class="arrow-right">→</div>
                                    <div class="step-box action">
                                        <h4>1本山戦略</h4>
                                        <p>1本山が奇数個になるように調整</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 練習問題 -->
                <div class="strategy-section" data-aos="fade-up" data-aos-delay="700">
                    <h3 data-i18n-key="golem_practice_title">📝 練習問題</h3>
                    <div class="practice-problems">
                        <div class="problem">
                            <h4>問題1: 次の局面で最適な手は？</h4>
                            <div class="problem-diagram">
                                <div class="stick-diagram">
                                    <div class="stick-row">
                                        <span class="row-label">段1:</span>
                                        <div class="stick active"></div>
                                        <div class="stick active"></div>
                                        <div class="stick active"></div>
                                        <div class="stick active"></div>
                                    </div>
                                    <div class="stick-row">
                                        <span class="row-label">段2:</span>
                                        <div class="stick active"></div>
                                        <div class="stick active"></div>
                                    </div>
                                    <div class="stick-row">
                                        <span class="row-label">段3:</span>
                                        <div class="stick active"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="problem-solution" style="display: none;">
                                <h5>解答</h5>
                                <p>ニム和: 4^2^1 = 7 ≠ 0<br>
                                段1から3本取って1本残し → ニム和: 1^2^1 = 2<br>
                                または段1から全部取る → ニム和: 0^2^1 = 3<br>
                                <strong>正解: 段1から全部取る</strong> (ニム和を最小にする)</p>
                            </div>
                            <button class="solution-toggle" onclick="toggleSolution(this)">解答を見る</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- ウッドゴーレム実践ゲームセクション -->
        <section id="game-golem" class="section">
            <div class="container">
                <div class="section-title">
                    <span class="badge badge-primary" data-aos="fade-up" data-i18n-key="golem_game_badge">実践ゲーム</span>
                    <h2 data-aos="fade-up" data-aos-delay="100" data-i18n-key="golem_game_title">ウッドゴーレム棒取りゲーム</h2>
                    <p data-aos="fade-up" data-aos-delay="200" data-i18n-key="golem_game_desc">学んだ攻略法を実際に試してみましょう！AIと対戦して腕試し。</p>
                </div>
                
                <div class="game-container" data-aos="fade-up" data-aos-delay="300">
                    <div class="game-header">
                        <div class="game-info">
                            <h3 id="game-stage" data-i18n-key="golem_game_stage">ステージ 1</h3>
                            <div class="game-status">
                                <span id="game-turn" data-i18n-key="golem_game_your_turn">あなたの番</span>
                                <span id="game-message"></span>
                            </div>
                        </div>
                        <div class="game-controls">
                            <button id="hint-btn" class="btn btn-outline" data-i18n-key="golem_game_hint">ヒント</button>
                            <button id="restart-btn" class="btn btn-outline" data-i18n-key="golem_game_restart">リスタート</button>
                        </div>
                    </div>
                    
                    <div class="nim-info" id="nim-info">
                        <h4 data-i18n-key="golem_game_nim_title">ニム和計算</h4>
                        <div id="nim-rows">
                            <!-- ニム和の計算がここに表示されます -->
                        </div>
                        <div id="nim-sum-display" class="nim-sum">
                            ニム和: 0
                        </div>
                    </div>
                    
                    <div class="game-board" id="game-board">
                        <!-- ゲームボードがここに動的に生成されます -->
                    </div>
                    
                    <div class="game-actions">
                        <div class="move-instruction" id="move-instruction" style="display: none;">
                            <p data-i18n-key="golem_game_drag_instruction">棒をドラッグして選択してください。マウスを離すと手が確定されます。</p>
                        </div>
                        
                        <div class="role-selection" id="role-selection">
                            <h4 data-i18n-key="golem_game_select_role">先攻・後攻を選択してください</h4>
                            <div class="role-buttons">
                                <button id="first-btn" class="btn btn-primary" data-i18n-key="golem_game_first">先攻</button>
                                <button id="second-btn" class="btn btn-accent" data-i18n-key="golem_game_second">後攻</button>
                            </div>
                        </div>
                        
                        <div class="game-result" id="game-result" style="display: none;">
                            <h4 id="result-message"></h4>
                            <div class="result-buttons">
                                <button id="retry-btn" class="btn btn-primary" data-i18n-key="golem_game_retry">リトライ</button>
                                <button id="next-btn" class="btn btn-accent" data-i18n-key="golem_game_next" style="display: none;">次のステージ</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="hint-overlay" id="hint-overlay" style="display: none;">
                        <div class="hint-content">
                            <h4 data-i18n-key="golem_game_hint_title">ヒント</h4>
                            <p id="hint-text"></p>
                            <button id="close-hint-btn" class="btn btn-primary" data-i18n-key="golem_game_close">閉じる</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="testimonials-golem" class="section section-white">
            <div class="container">
                <div class="section-title">
                  <span class="badge badge-primary" data-aos="fade-up" data-i18n-key="golem_testimonials_badge">ユーザーの声</span>
                  <h2 data-aos="fade-up" data-aos-delay="100" data-i18n-key="golem_testimonials_title">みんなの評価</h2>
                </div>
                <div class="testimonials-slider" data-aos="fade-up" data-aos-delay="300">
                  <div class="testimonial-item">
                    <div class="testimonial-content" data-i18n-key="golem_review1_content">単純なルールのようで奥が深い。ストーリーも面白い！</div>
                    <div class="testimonial-author"><div class="testimonial-avatar"><i class="fas fa-user"></i></div><div class="testimonial-info"><h4 data-i18n-key="golem_review1_author">高橋 雄太</h4><p data-i18n-key="golem_review1_author_info">ゲーマー / 38歳</p><div class="rating"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div></div></div>
                  </div>
                </div>
            </div>
        </section>
        <section id="faq-golem" class="section section-white">
            <div class="container">
                <div class="section-title">
                  <span class="badge badge-primary" data-aos="fade-up" data-i18n-key="golem_faq_badge">サポート</span>
                  <h2 data-aos="fade-up" data-aos-delay="100" data-i18n-key="golem_faq_title">よくある質問（FAQ）</h2>
                </div>
                <div class="accordion-container">
                    <div class="accordion" data-aos="fade-up"><div class="accordion-header"><h4 data-i18n-key="golem_faq1_q">ゲームのルールが分かりません。</h4><span class="accordion-toggle"><i class="fas fa-chevron-down"></i></span></div><div class="accordion-content"><div class="accordion-inner"><p data-i18n-key="golem_faq1_a">アプリ内の「ルール」ボタンから詳細を確認できます。</p></div></div></div>
                </div>
            </div>
        </section>
        <section id="contact-golem" class="section">
             <div class="container">
                <div class="section-title">
                  <span class="badge badge-primary" data-aos="fade-up" data-i18n-key="golem_contact_badge">お問い合わせ</span>
                  <h2 data-aos="fade-up" data-aos-delay="100" data-i18n-key="golem_contact_title">サポートについて</h2>
                </div>
                <div class="contact-card" data-aos="fade-up" data-aos-delay="300">
                  <div class="contact-icon"><i class="fas fa-envelope"></i></div>
                  <h3 data-i18n-key="golem_contact_heading">お問い合わせ先</h3>
                  <a href="mailto:trailfusionai@gmail.com" class="contact-email">trailfusionai@gmail.com</a>
                </div>
            </div>
        </section>
      </div>

      <!-- ワードブラスターのコンテンツ -->
      <div id="wordblaster-app" class="app-content wordblaster-app">
        <section class="hero">
          <div class="hero-content">
            <h1 data-aos="fade-down" data-i18n-key="wb_hero_title">ワードブラスター</h1>
            <p data-aos="fade-up" data-aos-delay="100" data-i18n-key="wb_hero_desc">宇宙を舞台に英単語を撃ち落とせ！レベル別単語学習シューティングゲーム。</p>
            <div class="hero-buttons" data-aos="zoom-in" data-aos-delay="200">
              <a href="https://apps.apple.com/jp/app/%E3%83%AF%E3%83%BC%E3%83%89%E3%83%96%E3%83%A9%E3%82%B9%E3%82%BF%E3%83%BC/id6745741796" class="download-btn" target="_blank">
                <i class="fab fa-apple"></i> <span data-i18n-key="download_appstore">App Storeでダウンロード</span>
              </a>
              <button class="video-btn" onclick="openVideoModal('wb-video')">
                <i class="fas fa-play"></i> <span data-i18n-key="watch_demo">デモ動画を見る</span>
              </button>
            </div>
            <div class="app-screens">
              <img src="images/wb_level_select.jpg" alt="ワードブラスターメイン画面" class="app-screen" data-aos="fade-right" data-aos-delay="300" data-i18n-alt-key="wb_alt_main_screen">
              <img src="images/wb_boss_battle.jpg" alt="ワードブラスターレベル選択" class="app-screen" data-aos="fade-left" data-aos-delay="300" data-i18n-alt-key="wb_alt_level_screen">
            </div>
          </div>
        </section>
        <section id="features-wb" class="section section-white">
            <div class="container">
                <div class="section-title">
                  <span class="badge badge-primary" data-aos="fade-up" data-i18n-key="wb_features_badge">アプリの特徴</span>
                  <h2 data-aos="fade-up" data-aos-delay="100" data-i18n-key="wb_features_title">ワードブラスターの魅力</h2>
                  <p data-aos="fade-up" data-aos-delay="200" data-i18n-key="wb_features_desc">ゲームで楽しく英単語をマスター！「ワードブラスター」で語彙力を飛躍的に向上させよう。</p>
                </div>
                <div class="grid">
                  <div class="card" data-aos="fade-up"><div class="card-icon"><i class="fas fa-layer-group"></i></div><h3 data-i18n-key="wb_feature1_title">多彩な単語レベル</h3><p data-i18n-key="wb_feature1_desc">英検5級からTOEIC高得点レベルまで、幅広い単語を網羅。あなたのレベルに合わせて学習できます。</p><img src="images/wb_gameplay_action.jpg" alt="ゲームプレイ" class="card-image" data-i18n-alt-key="wb_feature1_alt"></div>
                  <div class="card" data-aos="fade-up" data-aos-delay="100"><div class="card-icon"><i class="fas fa-gamepad"></i></div><h3 data-i18n-key="wb_feature2_title">爽快シューティング</h3><p data-i18n-key="wb_feature2_desc">次々と現れる敵（単語）を正しい翻訳を選んで撃ち落とす！ステージクリア型のゲームプレイで飽きさせません。</p><img src="images/wb_boss_battle.jpg" alt="ボス戦" class="card-image" data-i18n-alt-key="wb_feature2_alt"></div>
                  <div class="card" data-aos="fade-up" data-aos-delay="200"><div class="card-icon"><i class="fas fa-user-astronaut"></i></div><h3 data-i18n-key="wb_feature3_title">強力なボスバトル</h3><p data-i18n-key="wb_feature3_desc">各レベルの最後には手強いボスが出現。特殊な攻撃をかわし、弱点となるキー単語を狙い撃て！</p><img src="images/wb_boss_battle.jpg" alt="ボスバトル" class="card-image" data-i18n-alt-key="wb_feature3_alt"></div>
                  <div class="card" data-aos="fade-up"><div class="card-icon"><i class="fas fa-globe"></i></div><h3 data-i18n-key="wb_feature4_title">多言語対応</h3><p data-i18n-key="wb_feature4_desc">学習したい言語（英語、日本語など）と、あなたの母国語を柔軟に設定可能。世界中の学習者をサポートします。</p><img src="images/wb_settings_language.jpg" alt="言語設定" class="card-image" data-i18n-alt-key="wb_feature4_alt"></div>
                </div>
            </div>
        </section>
        <!-- 他のワードブラスターセクション -->
      </div>

      <!-- 論破王のコンテンツ -->
      <div id="ronpa-app" class="app-content ronpa-app">
        <section class="hero">
          <div class="hero-content">
            <h1 data-aos="fade-down" data-i18n-key="ronpa_hero_title">論破王 - AIディベートバトル</h1>
            <p data-aos="fade-up" data-aos-delay="100" data-i18n-key="ronpa_hero_desc">AI論客を打ち破れ！最強のディベート力を身につけろ。</p>
            <a href="#" class="download-btn" data-aos="zoom-in" data-aos-delay="200" target="_blank"> <!-- 論破王のApp Storeリンクを追加予定 -->
              <i class="fab fa-apple"></i> <span data-i18n-key="download_appstore">App Storeでダウンロード</span>
            </a>
            <div class="app-screens">
              <img src="images/ronpa_hero_debate.jpg" alt="論破王ディベート画面" class="app-screen" data-aos="fade-right" data-aos-delay="300" data-i18n-alt-key="ronpa_alt_debate_screen">
              <img src="images/ronpa_opponent_select.jpg" alt="論破王対戦相手選択" class="app-screen" data-aos="fade-left" data-aos-delay="300" data-i18n-alt-key="ronpa_alt_opponent_screen">
            </div>
          </div>
        </section>
        <section id="features-ronpa" class="section section-white">
            <div class="container">
                <div class="section-title">
                  <span class="badge badge-primary" data-aos="fade-up" data-i18n-key="ronpa_features_badge">アプリの特徴</span>
                  <h2 data-aos="fade-up" data-aos-delay="100" data-i18n-key="ronpa_features_title">論破王の魅力</h2>
                  <p data-aos="fade-up" data-aos-delay="200" data-i18n-key="ronpa_features_desc">AIとの白熱ディベートで、あなたの論理的思考力と表現力を極限まで高めよう。</p>
                </div>
                <div class="grid">
                                      <div class="card" data-aos="fade-up"><div class="card-icon"><i class="fas fa-users"></i></div><h3 data-i18n-key="ronpa_feature1_title">個性豊かなAI論客</h3><p data-i18n-key="ronpa_feature1_desc">ひろゆき風、呂布風など、多彩なAIキャラクターとディベートバトル。それぞれ独自のスタイルであなたに挑みます。</p><img src="images/ronpa_settings_voice.jpg" alt="AI論客設定" class="card-image" data-i18n-alt-key="ronpa_feature1_alt"></div>
                  <div class="card" data-aos="fade-up" data-aos-delay="100"><div class="card-icon"><i class="fas fa-brain"></i></div><h3 data-i18n-key="ronpa_feature2_title">詳細な分析とフィードバック</h3><p data-i18n-key="ronpa_feature2_desc">AIがあなたの議論をリアルタイムで分析。論点のズレ、弱点を指摘し、より説得力のある議論のための改善点を提案します。</p><img src="images/ronpa_analysis.jpg" alt="論点分析" class="card-image" data-i18n-alt-key="ronpa_feature2_alt"></div>
                  <div class="card" data-aos="fade-up" data-aos-delay="200"><div class="card-icon"><i class="fas fa-graduation-cap"></i></div><h3 data-i18n-key="ronpa_feature3_title">実践的ディベート練習</h3><p data-i18n-key="ronpa_feature3_desc">特定のテーマとタスクに基づいたレッスンモードで、段階的にディベートスキルを向上。日常会話からビジネス交渉まで役立つ力が身につきます。</p><img src="images/ronpa_result.jpg" alt="ディベート結果" class="card-image" data-i18n-alt-key="ronpa_feature3_alt"></div>
                </div>
            </div>
        </section>
        <!-- 他の論破王セクション -->
      </div>

      <!-- ハッキングタイマーのコンテンツ -->
      <div id="hackingtimer-app" class="app-content hackingtimer-app">
        <section class="hero">
          <div class="hero-content">
            <h1 data-aos="fade-down" data-i18n-key="ht_hero_title">ハッキングタイマー</h1>
            <p data-aos="fade-up" data-aos-delay="100" data-i18n-key="ht_hero_desc">Apple Watchで集中力をハック！カスタマイズ可能なインターバルタイマー。</p>
            <a href="https://apps.apple.com/jp/app/%E3%83%8F%E3%83%83%E3%82%AD%E3%83%B3%E3%82%B0%E3%82%BF%E3%82%A4%E3%83%9E%E3%83%BC/id6499354158" class="download-btn" data-aos="zoom-in" data-aos-delay="200" target="_blank"> <!-- Update App Store link -->
              <i class="fab fa-apple"></i> <span data-i18n-key="download_appstore">App Storeでダウンロード</span>
            </a>
            <div class="app-screens">
              <img src="images/ht_watch_main.png" alt="ハッキングタイマーメイン画面" class="app-screen" data-aos="fade-right" data-aos-delay="300" data-i18n-alt-key="ht_alt_main_screen">
              <img src="images/ht_settings_interval.png" alt="ハッキングタイマー設定画面" class="app-screen" data-aos="fade-left" data-aos-delay="300" data-i18n-alt-key="ht_alt_settings_screen">
            </div>
          </div>
        </section>
        <section id="features-ht" class="section section-white">
            <div class="container">
                <div class="section-title">
                  <span class="badge badge-primary" data-aos="fade-up" data-i18n-key="ht_features_badge">アプリの特徴</span>
                  <h2 data-aos="fade-up" data-aos-delay="100" data-i18n-key="ht_features_title">ハッキングタイマーの魅力</h2>
                  <p data-aos="fade-up" data-aos-delay="200" data-i18n-key="ht_features_desc">あなたのApple Watchが最強の集中力サポートツールに変わる！</p>
                </div>
                <div class="grid">
                  <div class="card" data-aos="fade-up"><div class="card-icon"><i class="fab fa-apple"></i></div><h3 data-i18n-key="ht_feature1_title">WatchOSスタンドアロン</h3><p data-i18n-key="ht_feature1_desc">iPhone不要！Apple Watch単体で全ての機能が動作。手軽に集中時間を管理できます。</p><img src="images/ht_settings_alarm_type.png" alt="アラーム設定" class="card-image" data-i18n-alt-key="ht_feature1_alt"></div>
                  <div class="card" data-aos="fade-up" data-aos-delay="100"><div class="card-icon"><i class="fas fa-cogs"></i></div><h3 data-i18n-key="ht_feature2_title">高度なカスタマイズ</h3><p data-i18n-key="ht_feature2_desc">通知間隔、アラームの種類（振動・音・組み合わせ）、パターン、継続時間、曜日・時間帯、事前通知など、全てを自分好みに設定可能。</p></div>
                  <div class="card" data-aos="fade-up" data-aos-delay="200"><div class="card-icon"><i class="fas fa-bell"></i></div><h3 data-i18n-key="ht_feature3_title">確実な通知システム</h3><p data-i18n-key="ht_feature3_desc">バックグラウンドでも確実に通知。重要なタスクの区切りや休憩時間を逃しません。クリティカルアラートにも対応。</p><img src="images/ht_notification_example.png" alt="通知例" class="card-image" data-i18n-alt-key="ht_feature3_alt"></div>
                </div>
            </div>
        </section>
        <!-- 他のハッキングタイマーセクション -->
      </div>

    </div>
  </div>

  <!-- フッター -->
  <footer class="footer gpt-app"> <!-- Default class, JS will update -->
    <div class="container">
      <div class="footer-content">
        <div class="footer-brand">
          <div class="footer-logo">
            <img src="logo.PNG" alt="Trail Fusion Logo">
            <h3>TrailFusion AI</h3>
          </div>
          <div class="footer-company">
            <p data-i18n-key="footer_brand_desc">オリジナリティあふれるアプリ開発を目指しています</p>
          </div>
          <div class="footer-social">
            <a href="https://x.com/trailfusionai" class="social-icon" target="_blank" rel="noopener noreferrer" aria-label="X (Twitter)">
              <i class="fab fa-x-twitter"></i>
              <i class="fab fa-twitter" style="display: none;"></i>
              <!-- 代替SVGアイコン（Font Awesomeが読み込まれない場合） -->
              <svg style="display: none; width: 20px; height: 20px; fill: currentColor;" viewBox="0 0 24 24" class="twitter-fallback">
                <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
              </svg>
            </a>
            <a href="https://www.tiktok.com/@trailfusionai?is_from_webapp=1&sender_device=pc" class="social-icon" target="_blank" rel="noopener noreferrer" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
            <a href="https://youtube.com/@van_oasis?si=K0dI4mXwARnPZ12t" class="social-icon" target="_blank" rel="noopener noreferrer" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
          </div>
        </div>
        <div class="footer-nav">
          <div class="footer-col">
            <h4 data-i18n-key="footer_apps_title">アプリ</h4>
            <ul class="footer-links">
              <li><a href="#" class="footer-link-app" data-app="gpt-app" data-i18n-key="app_tab_gp_teachers">GPティーチャーズ</a></li>
              <li><a href="#" class="footer-link-app" data-app="golem-app" data-i18n-key="app_tab_wood_golem">森のウッドゴーレム</a></li>
              <li><a href="#" class="footer-link-app" data-app="wordblaster-app" data-i18n-key="app_tab_word_blaster">ワードブラスター</a></li>
              <li><a href="#" class="footer-link-app" data-app="ronpa-app" data-i18n-key="app_tab_ronpa_king">論破王</a></li>
              <li><a href="#" class="footer-link-app" data-app="hackingtimer-app" data-i18n-key="app_tab_hacking_timer">ハッキングタイマー</a></li>
            </ul>
          </div>
          <div class="footer-col">
            <h4 data-i18n-key="footer_support_title">サポート</h4>
            <ul class="footer-links">
              <li><a href="#faq" class="nav-link" data-i18n-key="footer_support_faq">よくある質問</a></li>
              <li><a href="#contact" class="nav-link" data-i18n-key="footer_support_contact">お問い合わせ</a></li>
              <li><a href="mailto:trailfusionai@gmail.com" data-i18n-key="footer_support_bug_report">バグ報告</a></li>
            </ul>
          </div>
          <div class="footer-col">
            <h4 data-i18n-key="footer_company_title">会社情報</h4>
            <ul class="footer-links">
              <li><a href="about.html" data-i18n-key="footer_company_overview">会社概要</a></li>
              <li><a href="privacy.html" data-i18n-key="footer_company_privacy">プライバシーポリシー</a></li>
              <li><a href="terms.html" data-i18n-key="footer_company_terms">利用規約</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p data-i18n-key="footer_copyright">&copy; 2025 TrailFusion AI. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <div class="scroll-top" id="scroll-top" aria-label="Scroll to top">
    <i class="fas fa-chevron-up"></i>
  </div>

  <!-- 動画モーダル -->
  <div id="video-modal" class="video-modal">
    <div class="video-modal-content">
      <span class="video-modal-close" onclick="closeVideoModal()">&times;</span>
      <div class="video-container">
        <video id="modal-video" controls preload="none">
          <source id="video-source" src="" type="video/quicktime">
          <p data-i18n-key="video_not_supported">お使いのブラウザは動画の再生をサポートしていません。</p>
        </video>
      </div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
  <script>
    // 動画モーダル機能
    function openVideoModal(videoType) {
      const modal = document.getElementById('video-modal');
      const videoSource = document.getElementById('video-source');
      const video = document.getElementById('modal-video');
      
      // 動画ファイルのパスを設定
      let videoPath = '';
             if (videoType === 'gpt-video') {
         // GPティーチャーズの動画（現在は利用可能な動画がないため、アラートを表示）
         alert('GPティーチャーズのデモ動画は準備中です。しばらくお待ちください。');
         return;
             } else if (videoType === 'wb-video') {
         // ワードブラスターの動画
         const currentLang = getCurrentLanguage();
         if (currentLang === 'ja') {
           videoPath = 'images/' + encodeURIComponent('Wordblaster＿jp.mov');
         } else {
           videoPath = 'images/' + encodeURIComponent('word blaster_en.mov');
         }
       }
      
             if (videoPath) {
         videoSource.src = videoPath;
         // 動画の形式を設定
         if (videoPath.endsWith('.mov')) {
           videoSource.type = 'video/quicktime';
         } else if (videoPath.endsWith('.mp4')) {
           videoSource.type = 'video/mp4';
         } else if (videoPath.endsWith('.webm')) {
           videoSource.type = 'video/webm';
         }
         video.load(); // 動画を再読み込み
         modal.style.display = 'block';
         document.body.style.overflow = 'hidden'; // スクロールを無効化
       } else {
         alert('動画ファイルが見つかりません。');
       }
    }

    function closeVideoModal() {
      const modal = document.getElementById('video-modal');
      const video = document.getElementById('modal-video');
      
      modal.style.display = 'none';
      video.pause(); // 動画を停止
      video.currentTime = 0; // 動画を最初に戻す
      document.body.style.overflow = 'auto'; // スクロールを有効化
    }

    // モーダル外をクリックしたときに閉じる
    window.onclick = function(event) {
      const modal = document.getElementById('video-modal');
      if (event.target === modal) {
        closeVideoModal();
      }
    }

    // ESCキーでモーダルを閉じる
    document.addEventListener('keydown', function(event) {
      if (event.key === 'Escape') {
        closeVideoModal();
      }
    });

    // 画像読み込みエラーハンドリング
    function handleImageError(img) {
      console.warn('画像の読み込みに失敗しました:', img.src);
      
      // 代替画像があれば設定
      const fallbackSrc = img.dataset.fallback;
      if (fallbackSrc && img.src !== fallbackSrc) {
        console.log('代替画像に切り替え:', fallbackSrc);
        img.src = fallbackSrc;
        return;
      }
      
      // 拡張子を変更して再試行
      const currentSrc = img.src;
      if (currentSrc.endsWith('.jpg')) {
        const pngSrc = currentSrc.replace('.jpg', '.png');
        console.log('PNG形式で再試行:', pngSrc);
        img.src = pngSrc;
        return;
      } else if (currentSrc.endsWith('.png')) {
        const jpegSrc = currentSrc.replace('.png', '.jpeg');
        console.log('JPEG形式で再試行:', jpegSrc);
        img.src = jpegSrc;
        return;
      }
      
      // 最終的に失敗した場合は非表示
      img.style.display = 'none';
      img.parentElement.style.minHeight = '0';
    }

    // Font Awesomeアイコンの代替表示
    function checkFontAwesome() {
      // Font Awesomeが読み込まれているかチェック
      const testElement = document.createElement('i');
      testElement.className = 'fab fa-twitter';
      testElement.style.position = 'absolute';
      testElement.style.left = '-9999px';
      document.body.appendChild(testElement);
      
      const computedStyle = window.getComputedStyle(testElement, ':before');
      const isLoaded = computedStyle.content !== 'none' && computedStyle.content !== '';
      
      document.body.removeChild(testElement);
      
      if (!isLoaded) {
        // Font Awesomeが読み込まれていない場合、SVGアイコンを表示
        const allTwitterIcons = document.querySelectorAll('.fab.fa-twitter, .fab.fa-x-twitter');
        const twitterFallbacks = document.querySelectorAll('.twitter-fallback');
        
        allTwitterIcons.forEach(icon => icon.style.display = 'none');
        twitterFallbacks.forEach(svg => svg.style.display = 'block');
      } else {
        // Font Awesomeが読み込まれている場合、fa-x-twitterを優先表示
        const xTwitterIcons = document.querySelectorAll('.fab.fa-x-twitter');
        const oldTwitterIcons = document.querySelectorAll('.fab.fa-twitter');
        
        if (xTwitterIcons.length > 0) {
          // X (Twitter)アイコンが利用可能な場合
          xTwitterIcons.forEach(icon => icon.style.display = 'inline');
          oldTwitterIcons.forEach(icon => icon.style.display = 'none');
        } else {
          // 古いTwitterアイコンにフォールバック
          oldTwitterIcons.forEach(icon => icon.style.display = 'inline');
        }
      }
    }

    // 画像の遅延読み込み
    function lazyLoadImages() {
      const images = document.querySelectorAll('img[data-src]');
      const imageObserver = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const img = entry.target;
            img.src = img.dataset.src;
            img.classList.remove('lazy');
            imageObserver.unobserve(img);
          }
        });
      });

      images.forEach(img => imageObserver.observe(img));
    }

    // 画像パスを正規化する関数
    function normalizeImagePath(src) {
      // 絶対パスの場合はそのまま返す
      if (src.startsWith('http') || src.startsWith('/')) {
        return src;
      }
      
      // 相対パスの場合、現在のページのベースURLを考慮
      const baseUrl = window.location.href.replace(/\/[^\/]*$/, '/');
      
      // パスの先頭の './' を削除
      const cleanSrc = src.replace(/^\.\//, '');
      
      return baseUrl + cleanSrc;
    }

    // 全ての画像にエラーハンドリングを追加
    function initImageErrorHandling() {
      const images = document.querySelectorAll('img');
      console.log(`画像の総数: ${images.length}`);
      console.log(`現在のベースURL: ${window.location.href}`);
      
      images.forEach((img, index) => {
        // 画像パスを正規化
        const originalSrc = img.getAttribute('src');
        const normalizedSrc = normalizeImagePath(originalSrc);
        
        console.log(`画像 ${index + 1}: ${originalSrc} -> ${normalizedSrc}`);
        
        // エラーハンドリングを追加（重複を避けるため一度だけ）
        if (!img.dataset.errorHandlerAdded) {
          img.addEventListener('error', () => handleImageError(img));
          img.addEventListener('load', () => {
            console.log(`画像読み込み成功: ${img.src}`);
          });
          img.dataset.errorHandlerAdded = 'true';
        }
        
        // 画像が既に読み込まれているかチェック
        if (img.complete && img.naturalHeight === 0) {
          handleImageError(img);
        } else if (img.complete && img.naturalHeight > 0) {
          console.log(`画像既に読み込み済み: ${img.src}`);
        }
      });
    }
    // translations object will be populated by the generated locales_XX.json content
    const translations = {
        // --- SEO and Generic ---
        "seo_title_default": {
            "ja": "TrailFusion AI | アプリコレクション",
            "en": "TrailFusion AI | App Collection",
            "zh": "TrailFusion AI | 应用合集"
        },
        "seo_desc_default": {
            "ja": "TrailFusion AIが提供する革新的なアプリコレクション！英語学習「GPティーチャーズ」、戦略パズル「森のウッドゴーレム」、単語ゲーム「ワードブラスター」、ディベートAI「論破王」、集中タイマー「ハッキングタイマー」をチェック！",
            "en": "Discover TrailFusion AI's innovative app collection! Check out 'GP Teachers' for English learning, 'Wood Golem Forest' strategy puzzle, 'Word Blaster' vocabulary game, 'Debate Master' AI, and 'Hacking Timer' focus timer!",
            "zh": "探索TrailFusion AI的创新应用合集！查看英语学习“GP教师”、策略解谜“森林木偶”、词汇游戏“单词冲击波”、辩论AI“辩论之王”和专注计时器“黑客计时器”！"
        },
        "seo_keywords_default": {
            "ja": "TrailFusion AI, GPティーチャーズ, 森のウッドゴーレム, ワードブラスター, 論破王, ハッキングタイマー, 英語学習, パズルゲーム, 単語ゲーム, ディベートAI, 集中タイマー, Apple Watchアプリ",
            "en": "TrailFusion AI, GP Teachers, Wood Golem Forest, Word Blaster, Debate Master, Hacking Timer, English learning, puzzle game, vocabulary game, debate AI, focus timer, Apple Watch app",
            "zh": "TrailFusion AI, GP教师, 森林木偶, 单词冲击波, 辩论之王, 黑客计时器, 英语学习, 益智游戏, 词汇游戏, 辩论AI, 专注计时器, Apple Watch应用"
        },
        "og_title_default": {
             "ja": "TrailFusion AI | アプリコレクション",
             "en": "TrailFusion AI | App Collection",
             "zh": "TrailFusion AI | 应用合集"
        },
        "og_desc_default": {
            "ja": "TrailFusion AIの革新的なアプリを発見しよう！GPティーチャーズ, 森のウッドゴーレム, ワードブラスター, 論破王, ハッキングタイマー",
            "en": "Discover innovative apps from TrailFusion AI! GP Teachers, Wood Golem Forest, Word Blaster, Debate Master, Hacking Timer",
            "zh": "探索TrailFusion AI的创新应用！GP教师, 森林木偶, 单词冲击波, 辩论之王, 黑客计时器"
        },
        "twitter_title_default": {
             "ja": "TrailFusion AI | アプリコレクション",
             "en": "TrailFusion AI | App Collection",
             "zh": "TrailFusion AI | 应用合集"
        },
        "twitter_desc_default": {
            "ja": "TrailFusion AIの革新的なアプリを発見しよう！GPティーチャーズ, 森のウッドゴーレム, ワードブラスター, 論破王, ハッキングタイマー",
            "en": "Discover innovative apps from TrailFusion AI! GP Teachers, Wood Golem Forest, Word Blaster, Debate Master, Hacking Timer",
            "zh": "探索TrailFusion AI的创新应用！GP教师, 森林木偶, 单词冲击波, 辩论之王, 黑客计时器"
        },
        "loading_text": { "ja": "読み込み中...", "en": "Loading...", "zh": "加载中..." },
        "download_appstore": { "ja": "App Storeでダウンロード", "en": "Download on the App Store", "zh": "在 App Store 下载" },
      "watch_demo": { "ja": "デモ動画を見る", "en": "Watch Demo", "zh": "观看演示" },
      "video_not_supported": { "ja": "お使いのブラウザは動画の再生をサポートしていません。", "en": "Your browser does not support video playback.", "zh": "您的浏览器不支持视频播放。" },

        // --- Navbar ---
        "nav_features": { "ja": "機能", "en": "Features", "zh": "功能" },
        "nav_screenshots": { "ja": "スクリーンショット", "en": "Screenshots", "zh": "截图" },
        "nav_testimonials": { "ja": "ユーザーレビュー", "en": "Reviews", "zh": "用户评价" },
        "nav_updates": { "ja": "更新情報", "en": "Updates", "zh": "更新信息" },
        "nav_faq": { "ja": "FAQ", "en": "FAQ", "zh": "常见问题" },
        "nav_contact": { "ja": "お問い合わせ", "en": "Contact", "zh": "联系我们" },

        // --- Language Switcher ---
        "lang_name_ja": { "ja": "日本語", "en": "Japanese", "zh": "日语" },
        "lang_name_en": { "ja": "English", "en": "English", "zh": "英语" },
        "lang_name_zh": { "ja": "中文", "en": "Chinese", "zh": "中文" },
        "lang_name_pt": { "ja": "Português", "en": "Portuguese", "zh": "葡萄牙语" },
        "lang_name_es": { "ja": "Español", "en": "Spanish", "zh": "西班牙语" },
        "lang_name_de": { "ja": "Deutsch", "en": "German", "zh": "德语" },
        "lang_name_hi": { "ja": "हिन्दी", "en": "Hindi", "zh": "印地语" },
        "lang_name_ru": { "ja": "Русский", "en": "Russian", "zh": "俄语" },
        "lang_name_fr": { "ja": "Français", "en": "French", "zh": "法语" },

        // --- App Selector Tabs ---
        "app_tab_gp_teachers": { "ja": "GPティーチャーズ", "en": "GP Teachers", "zh": "GP教师" },
        "app_tab_wood_golem": { "ja": "森のウッドゴーレム", "en": "Wood Golem", "zh": "森林木偶" },
        "app_tab_word_blaster": { "ja": "ワードブラスター", "en": "Word Blaster", "zh": "单词冲击波" },
        "app_tab_ronpa_king": { "ja": "論破王", "en": "Debate Master", "zh": "辩论之王" },
        "app_tab_hacking_timer": { "ja": "ハッキングタイマー", "en": "Hacking Timer", "zh": "黑客计时器" },
        
        // --- GP Teachers (gpt_) ---
        "gpt_hero_title": { "ja": "GPティーチャーズ", "en": "GP Teachers", "zh": "GP教师" },
        "gpt_hero_desc": { 
            "ja": "AI英会話レッスンが楽しめる新感覚アプリ！リアルなAI講師とレッスンやフリートークでスピーキング力UP！",
            "en": "A new sensation app where you can enjoy AI English conversation lessons! Improve your speaking skills with realistic AI instructors through lessons and free talk!",
            "zh": "可以享受AI英语会话课程的新感觉应用！通过与真实的AI讲师进行课程和自由对话来提升口语能力！"
        },
        "gpt_alt_conversation_screen": { "ja": "英会話画面", "en": "Conversation Screen", "zh": "英语会话界面" },
        "gpt_alt_course_selection_screen": { "ja": "コース選択画面", "en": "Course Selection Screen", "zh": "课程选择界面"},
        "gpt_features_badge": { "ja": "アプリの特徴", "en": "App Features", "zh": "应用特色" },
        "gpt_features_title": { "ja": "GPティーチャーズの魅力", "en": "The Appeal of GP Teachers", "zh": "GP教师的魅力" },
        "gpt_features_desc_no_wb": { 
            "ja": "「GPティーチャーズ」は、AIとの対話を通じて英会話力を実践的に高めることができる革新的な英語学習アプリです。",
            "en": "\"GP Teachers\" is an innovative English learning app that allows you to practically improve your English conversation skills through dialogue with AI.",
            "zh": "“GP教师”是一款创新的英语学习应用，您可以通过与AI对话，实际提高您的英语会话能力。"
        },
        "gpt_feature1_title": { "ja": "AI先生とリアル英会話", "en": "Real English Conversation with AI Teachers", "zh": "与AI老师进行真实英语会话" },
        "gpt_feature1_desc": {
            "ja": "GPT系AIがあなた専属の講師に。音声認識で即レスポンス。「カフェで注文」「道案内」などタスク式シナリオで実践力UP。翻訳・文法チェック・単語解説をワンタップ表示。",
            "en": "GPT-based AI becomes your dedicated instructor. Instant response with voice recognition. Improve practical skills with task-based scenarios like ordering at a cafe and giving directions. One-tap display of translation, grammar check, and word explanations.",
            "zh": "基于GPT的AI成为您的专属讲师。语音识别即时响应。通过咖啡厅点餐、指路等任务式场景提升实践能力。一键显示翻译、语法检查和单词解释。"
        },
        "gpt_feature1_alt": { "ja": "翻訳機能付き英会話画面", "en": "Conversation screen with translation feature", "zh": "带翻译功能的会话界面" },
        "gpt_feature2_title": { "ja": "レベル別コース構成", "en": "Level-Specific Course Structure", "zh": "分级课程结构" },
        "gpt_feature2_desc": {
            "ja": "日常英会話コース（初級・中級・上級）と英文法コース（中学1年・2年・3年レベル）から選べます。自分のレベルに合わせて学習を進められます。",
            "en": "Choose from daily conversation courses (beginner, intermediate, advanced) and grammar courses (junior high 1st, 2nd, 3rd year levels). Progress at your own pace.",
            "zh": "可选择日常会话课程（初级、中级、高级）和语法课程（初中1、2、3年级水平）。您可以根据自己的水平进行学习。"
        },
        "gpt_feature2_alt": { "ja": "英語コース選択画面", "en": "English course selection screen", "zh": "英语课程选择界面" },
        "gpt_feature3_title": { "ja": "フレーズブック機能", "en": "Phrasebook Feature", "zh": "短语手册功能" },
        "gpt_feature3_desc": {
            "ja": "レッスンごとに役立つ英語フレーズを収録。音声で発音を聞けたり、お気に入り登録で復習しやすくなっています。",
            "en": "Contains useful English phrases for each lesson. Listen to pronunciation and favorite phrases for easy review.",
            "zh": "每节课都包含有用的英语短语。您可以听发音，并将短语添加到收藏夹以便复习。"
        },
        "gpt_feature3_alt": { "ja": "フレーズブックとタスク画面", "en": "Phrasebook and task screen", "zh": "短语手册和任务界面" },
        "gpt_feature5_title": { "ja": "学習進捗管理", "en": "Learning Progress Management", "zh": "学习进度管理" },
        "gpt_feature5_desc": {
            "ja": "学習統計でこれまでの成果を確認でき、間違えやすいポイントを特定して集中学習できます。",
            "en": "Check your progress with learning statistics and focus on areas you often get wrong.",
            "zh": "通过学习统计数据查看您的成果，并针对易错点进行集中学习。"
        },
        "gpt_feature5_alt": { "ja": "学習チャレンジとカレンダー画面", "en": "Learning challenge and calendar screen", "zh": "学习挑战和日历界面" },
        "gpt_feature6_title": { "ja": "AIパーソナルトレーナー", "en": "AI Personal Trainer", "zh": "AI私人教练" },
        "gpt_feature6_desc": {
            "ja": "あなたの学習パターンを分析し、最適な学習プランを提案。弱点を自動検出し、効率的に英語力を伸ばします。",
            "en": "Analyzes your learning patterns to suggest optimal study plans. Automatically detects weaknesses to help you improve efficiently.",
            "zh": "分析您的学习模式，提出最佳学习计划。自动检测薄弱环节，高效提升您的英语能力。"
        },
        "gpt_testimonials_badge": { "ja": "ユーザーの声", "en": "User Reviews", "zh": "用户评价" },
        "gpt_testimonials_title": { "ja": "みんなの評価", "en": "What People Are Saying", "zh": "大家的评价" },
        "gpt_testimonials_desc": { "ja": "GPティーチャーズを使用している方々からの声をご紹介します。", "en": "Here's what users are saying about GP Teachers.", "zh": "介绍一下GP教师用户们的感想。" },
        "gpt_review1_content": { "ja": "AI先生だから気軽に話せる✨ 以前、オンライン英会話のレッスンを受けようとしましたが、あまりの緊張で1回で挫折しました。GPティーチャーズは、そんな私にとって救世主です！AIの先生だとわかっているからこそ、間違えても全く気にならないんです。", "en": "I can speak casually because it's an AI teacher✨ I tried online English conversation lessons before, but I gave up after one session due to extreme nervousness. GP Teachers is a savior for someone like me! Knowing it's an AI teacher, I don't mind making mistakes at all.", "zh": "因为是AI老师所以可以轻松对话✨ 之前我尝试过在线英语会话课程，但由于过度紧张在一次课后就放弃了。GP教师对我这样的人来说是救世主！知道是AI老师，即使犯错也完全不在意。" },
        "gpt_review1_author": { "ja": "19…Bby", "en": "19…Bby", "zh": "19…Bby" },
        "gpt_review1_author_info": { "ja": "App Store レビュー", "en": "App Store Review", "zh": "App Store 评价" },
        "gpt_review2_content_no_wb": { "ja": "ハンズフリーで英会話を楽しめる👍 英会話スクールに通う時間がなく、アプリを探していた時に出会いました。マーサー先生との会話が本当に自然で、自分の発音やフレーズの間違いも丁寧に指摘してくれます。通勤中の車でハンズフリーで会話できるのも最高です😃", "en": "Enjoy hands-free English conversation👍 I found this app when I was looking for one because I didn't have time to attend English conversation school. The conversation with Teacher Mercer is really natural, and she politely points out my pronunciation and phrase mistakes. It's great that I can have hands-free conversations in the car during my commute😃", "zh": "可以享受免提英语会话👍 因为没有时间去英语会话学校，在寻找应用时遇到了这个。与Mercer老师的对话非常自然，她会礼貌地指出我的发音和短语错误。在通勤途中的车里可以免提对话真是太棒了😃" },
        "gpt_review2_author": { "ja": "Shefuchenko haya", "en": "Shefuchenko haya", "zh": "Shefuchenko haya" },
        "gpt_review2_author_info": { "ja": "App Store レビュー", "en": "App Store Review", "zh": "App Store 评价" },
        "gpt_review3_content": { "ja": "めちゃ楽しい！単語をサクサク覚えれておすすめです！", "en": "So much fun! I can learn vocabulary quickly and easily, highly recommended!", "zh": "超级有趣！可以轻松快速地记住单词，强烈推荐！" },
        "gpt_review3_author": { "ja": "りみあや", "en": "rimiaiya", "zh": "りみあや" },
        "gpt_review3_author_info": { "ja": "App Store レビュー", "en": "App Store Review", "zh": "App Store 评价" },
        "gpt_faq_badge": { "ja": "サポート", "en": "Support", "zh": "支持" },
        "gpt_faq_title": { "ja": "よくある質問（FAQ）", "en": "Frequently Asked Questions (FAQ)", "zh": "常见问题 (FAQ)" },
        "gpt_faq_desc": { "ja": "GPティーチャーズに関するよくある質問と回答をご紹介します。", "en": "Here are common questions and answers about GP Teachers.", "zh": "这里是关于GP教师的常见问题及其解答。" },
        "gpt_faq1_q": { "ja": "インストール後すぐに使えますか？", "en": "Can I use it immediately after installation?", "zh": "安装后可以马上使用吗？" },
        "gpt_faq1_a": { "ja": "はい、インストール後すぐにお使いいただけます。初回起動時に簡単な設定があります。", "en": "Yes, you can use it immediately after installation. There's a simple setup on first launch.", "zh": "是的，安装后即可立即使用。首次启动时会有简单的设置。" },
        "gpt_faq2_q": { "ja": "どのような英語レベルに対応していますか？", "en": "What English levels does it support?", "zh": "支持哪些英语水平？" },
        "gpt_faq2_a": { "ja": "日常英会話（初級・中級・上級）と英文法（中学1年・2年・3年レベル）から選べます。英検やTOEIC対策にも対応しています。", "en": "You can choose from daily conversation courses (beginner, intermediate, advanced) and grammar courses (junior high 1st, 2nd, 3rd year levels). Also supports EIKEN and TOEIC preparation.", "zh": "可选择日常会话课程（初级、中级、高级）和语法课程（初中1、2、3年级水平）。还支持英检和TOEIC备考。" },
        "gpt_faq3_q": { "ja": "音声認識の精度はどうですか？", "en": "How accurate is the voice recognition?", "zh": "语音识别的精度如何？" },
        "gpt_faq3_a": { "ja": "最新のAI技術により高精度な音声認識を実現。発音の間違いも丁寧に指摘し、改善点を提案します。", "en": "Achieves high-precision voice recognition with the latest AI technology. Politely points out pronunciation mistakes and suggests improvements.", "zh": "采用最新AI技术实现高精度语音识别。礼貌地指出发音错误并提出改进建议。" },
        "gpt_faq4_q": { "ja": "オフラインでも使用できますか？", "en": "Can I use it offline?", "zh": "可以离线使用吗？" },
        "gpt_faq4_a": { "ja": "AI会話機能にはインターネット接続が必要ですが、フレーズブックなど一部機能はオフラインでもご利用いただけます。", "en": "Internet connection is required for AI conversation features, but some functions like the phrasebook can be used offline.", "zh": "AI会话功能需要互联网连接，但短语手册等部分功能可以离线使用。" },
        "gpt_contact_badge": { "ja": "お問い合わせ", "en": "Contact Us", "zh": "联系我们" },
        "gpt_contact_title": { "ja": "サポートについて", "en": "About Support", "zh": "关于支持" },
        "gpt_contact_desc": { "ja": "アプリに関するご質問やご要望がありましたら、お気軽にお問い合わせください。", "en": "If you have any questions or requests regarding the app, please feel free to contact us.", "zh": "如果您对应用有任何疑问或建议，请随时与我们联系。" },
        "gpt_contact_heading": { "ja": "お問い合わせ先", "en": "Contact Information", "zh": "联系方式" },
        
        // --- 森のウッドゴーレム (golem_) ---
        "golem_hero_title": { "ja": "棒取り攻略！森のウッドゴーレム大冒険", "en": "Stick-Taking Strategy! Wood Golem's Great Forest Adventure", "zh": "攻占木棍！森林木偶大冒险" },
        "golem_hero_desc": { "ja": "一風変わったパズルゲームで小さな木のゴーレムと一緒に大冒険へ出かけよう", "en": "Embark on a grand adventure with a little wooden golem in this unique puzzle game.", "zh": "与小木偶一起，在这款独特的益智游戏中展开一场大冒险吧。" },
        "golem_alt_title_screen": { "ja": "ウッドゴーレムタイトル画面", "en": "Wood Golem Title Screen", "zh": "森林木偶标题画面" },
        "golem_alt_gameplay_screen": { "ja": "ウッドゴーレムゲーム画面", "en": "Wood Golem Gameplay Screen", "zh": "森林木偶游戏画面" },
        "golem_features_badge": { "ja": "ゲーム特徴", "en": "Game Features", "zh": "游戏特色" },
        "golem_features_title": { "ja": "ゲームの魅力", "en": "The Charm of the Game", "zh": "游戏的魅力" },
        "golem_feature1_title": { "ja": "深遠な戦略性", "en": "Deep Strategy", "zh": "深邃的策略性" },
        "golem_feature1_desc": { "ja": "各ステージは複雑な戦略を要求し、プレイヤーの思考力を試します。", "en": "Each stage demands complex strategy, testing the player's thinking skills.", "zh": "每个关卡都需要复杂的策略，考验玩家的思考能力。" },
        "golem_feature1_alt": { "ja": "ゴーレム成長", "en": "Golem Growth", "zh": "木偶成长" },
        "golem_feature2_title": { "ja": "成長物語", "en": "Growth Story", "zh": "成长故事" },
        "golem_feature2_desc": { "ja": "小さなゴーレムがあなたの手によって成長していく過程を楽しめます。", "en": "Enjoy the process of the little golem growing under your guidance.", "zh": "您可以享受小木偶在您的帮助下逐渐成长的过程。" },
        "golem_feature2_alt": { "ja": "ストーリー", "en": "Story Scene", "zh": "故事场景" },
        "golem_testimonials_badge": { "ja": "ユーザーの声", "en": "User Reviews", "zh": "用户评价" },
        "golem_testimonials_title": { "ja": "みんなの評価", "en": "What People Are Saying", "zh": "大家的评价" },
        "golem_review1_content": { "ja": "単純なルールのようで奥が深い。ストーリーも面白い！", "en": "Simple rules, yet deep. The story is also interesting!", "zh": "规则看似简单却很深奥。故事也很有趣！" },
        "golem_review1_author": { "ja": "高橋 雄太", "en": "Yuta Takahashi", "zh": "高桥雄太" },
        "golem_review1_author_info": { "ja": "ゲーマー / 38歳", "en": "Gamer / 38", "zh": "游戏玩家 / 38岁" },
        "golem_faq_badge": { "ja": "サポート", "en": "Support", "zh": "支持" },
        "golem_faq_title": { "ja": "よくある質問（FAQ）", "en": "Frequently Asked Questions (FAQ)", "zh": "常见问题 (FAQ)" },
        "golem_faq1_q": { "ja": "ゲームのルールが分かりません。", "en": "I don't understand the game rules.", "zh": "我不明白游戏规则。" },
        "golem_faq1_a": { "ja": "アプリ内の「ルール」ボタンから詳細を確認できます。", "en": "You can check the details from the 'Rules' button in the app.", "zh": "您可以从应用内的“规则”按钮查看详细信息。" },
        "golem_contact_badge": { "ja": "お問い合わせ", "en": "Contact Us", "zh": "联系我们" },
        "golem_contact_title": { "ja": "サポートについて", "en": "About Support", "zh": "关于支持" },
        "golem_contact_heading": { "ja": "お問い合わせ先", "en": "Contact Information", "zh": "联系方式" },
        
        // ウッドゴーレム実践ゲーム
        "golem_game_badge": { "ja": "実践ゲーム", "en": "Practice Game", "zh": "实战游戏" },
        "golem_game_title": { "ja": "ウッドゴーレム棒取りゲーム", "en": "Wood Golem Stick Game", "zh": "森林木偶取棒游戏" },
        "golem_game_desc": { "ja": "学んだ攻略法を実際に試してみましょう！AIと対戦して腕試し。", "en": "Try out the strategies you've learned! Test your skills against AI.", "zh": "试试你学到的攻略法！与AI对战测试技能。" },
        "golem_game_stage": { "ja": "ステージ 1", "en": "Stage 1", "zh": "关卡 1" },
        "golem_game_your_turn": { "ja": "あなたの番", "en": "Your Turn", "zh": "你的回合" },
        "golem_game_hint": { "ja": "ヒント", "en": "Hint", "zh": "提示" },
        "golem_game_restart": { "ja": "リスタート", "en": "Restart", "zh": "重新开始" },
        "golem_game_select_role": { "ja": "先攻・後攻を選択してください", "en": "Choose to go first or second", "zh": "请选择先攻或后攻" },
        "golem_game_first": { "ja": "先攻", "en": "First", "zh": "先攻" },
        "golem_game_second": { "ja": "後攻", "en": "Second", "zh": "后攻" },
        "golem_game_retry": { "ja": "リトライ", "en": "Retry", "zh": "重试" },
        "golem_game_next": { "ja": "次のステージ", "en": "Next Stage", "zh": "下一关" },
        "golem_game_hint_title": { "ja": "ヒント", "en": "Hint", "zh": "提示" },
        "golem_game_close": { "ja": "閉じる", "en": "Close", "zh": "关闭" },
        "golem_game_drag_instruction": { "ja": "棒をドラッグして選択してください。マウスを離すと手が確定されます。", "en": "Drag to select sticks. Release mouse to confirm your move.", "zh": "拖拽选择棒子。松开鼠标确认移动。" },
        "golem_game_nim_title": { "ja": "ニム和計算", "en": "Nim Sum Calculation", "zh": "尼姆和计算" },
        
        // ウッドゴーレム攻略法セクション
        "golem_strategy_badge": { "ja": "攻略ガイド", "en": "Strategy Guide", "zh": "攻略指南" },
        "golem_strategy_title": { "ja": "ウッドゴーレム完全攻略法", "en": "Complete Wood Golem Strategy Guide", "zh": "森林木偶完全攻略法" },
        "golem_strategy_desc": { "ja": "ニム理論に基づく必勝法を図解で分かりやすく解説します。", "en": "Easy-to-understand illustrated explanation of winning strategies based on Nim theory.", "zh": "基于尼姆理论的必胜法，通过图解进行易懂的解说。" },
        "golem_basic_rules_title": { "ja": "🎯 基本ルール", "en": "🎯 Basic Rules", "zh": "🎯 基本规则" },
        "golem_basic_rules_list": { 
            "ja": ["各段から1本以上の棒を取る", "同じ段からなら何本でも取れる", "最後の1本を取った人が負け", "相手に最後の1本を取らせれば勝利"],
            "en": ["Take at least one stick from each row", "You can take any number from the same row", "The person who takes the last stick loses", "Make your opponent take the last stick to win"],
            "zh": ["从每行至少取一根棒", "从同一行可以取任意数量", "取最后一根棒的人输", "让对手取最后一根棒就获胜"]
        },
        "golem_endgame_title": { "ja": "🏆 必勝パターン1: 終盤戦略", "en": "🏆 Winning Pattern 1: Endgame Strategy", "zh": "🏆 必胜模式1：终盘策略" },
        "golem_case1_title": { "ja": "ケース1: 大きな山が1つ + 1本山が複数", "en": "Case 1: One Large Pile + Multiple Single Piles", "zh": "情况1：一个大堆 + 多个单根堆" },
        "golem_case1_explanation": { 
            "ja": "戦略: 1本山が偶数個の時は、大きな山を1本残しにして奇数個にする。1本山が奇数個の時は、大きな山を全部取って奇数個を維持する。",
            "en": "Strategy: When there are an even number of single piles, leave one stick in the large pile to make it odd. When there are an odd number of single piles, take all from the large pile to maintain the odd number.",
            "zh": "策略：当单根堆为偶数个时，在大堆中留一根使其变为奇数个。当单根堆为奇数个时，全部取走大堆以维持奇数个。"
        },
        "golem_nim_title": { "ja": "🧮 必勝パターン2: ニム和戦略", "en": "🧮 Winning Pattern 2: Nim Sum Strategy", "zh": "🧮 必胜模式2：尼姆和策略" },
        "golem_nim_concept_title": { "ja": "ニム和とは？", "en": "What is Nim Sum?", "zh": "什么是尼姆和？" },
        "golem_nim_concept_desc": { "ja": "各段の棒の本数をXOR演算（排他的論理和）で計算した値です。", "en": "The value calculated by XOR operation (exclusive OR) of the number of sticks in each row.", "zh": "通过对各行棒数进行XOR运算（异或）计算得出的值。" },
        "golem_nim_strategy_title": { "ja": "ニム和戦略", "en": "Nim Sum Strategy", "zh": "尼姆和策略" },
        "golem_nim_example_title": { "ja": "実践例", "en": "Practical Example", "zh": "实践例子" },
        "golem_flowchart_title": { "ja": "🎯 実践的な判断フロー", "en": "🎯 Practical Decision Flow", "zh": "🎯 实用判断流程" },
        "golem_practice_title": { "ja": "📝 練習問題", "en": "📝 Practice Problems", "zh": "📝 练习题" },

        // --- ワードブラスター (wb_) ---
        "wb_hero_title": { "ja": "ワードブラスター", "en": "Word Blaster", "zh": "单词冲击波" },
        "wb_hero_desc": { 
            "ja": "10言語対応の単語学習シューティングゲーム！迫りくる単語を撃ち落として語彙力をアップしよう。",
            "en": "A vocabulary learning shooter game supporting 10 languages! Shoot down approaching words to boost your vocabulary!",
            "zh": "支持10种语言的词汇学习射击游戏！击落迫近的单词来提升您的词汇量！"
        },
        "wb_alt_main_screen": { "ja": "ワードブラスターメイン画面", "en": "Word Blaster Main Screen", "zh": "单词冲击波主界面" },
        "wb_alt_level_screen": { "ja": "ワードブラスターレベル選択", "en": "Word Blaster Level Selection", "zh": "单词冲击波等级选择" },
        "wb_features_badge": { "ja": "アプリの特徴", "en": "App Features", "zh": "应用特色" },
        "wb_features_title": { "ja": "ワードブラスターの魅力", "en": "The Appeal of Word Blaster", "zh": "单词冲击波的魅力" },
        "wb_features_desc": { 
            "ja": "10言語対応の革新的な単語学習ゲーム！迫りくる単語を撃ち落として語彙力をアップ。英検5級からTOEIC990点レベルまで対応し、全国ランキングでやる気倍増！",
            "en": "An innovative vocabulary learning game supporting 10 languages! Shoot down approaching words to boost your vocabulary. Covers from EIKEN Level 5 to TOEIC 990 points, with national rankings to double your motivation!",
            "zh": "通过游戏愉快地掌握英语词汇！用“单词冲击波”飞跃提升您的词汇量。"
        },
        "wb_feature1_title": { "ja": "多彩な単語レベル", "en": "Various Vocabulary Levels", "zh": "多样的词汇级别" },
        "wb_feature1_desc": { "ja": "英検5級からTOEIC高得点レベルまで、幅広い単語を網羅。あなたのレベルに合わせて学習できます。", "en": "Covers a wide range of words from EIKEN Level 5 to high TOEIC scores. You can learn according to your level.", "zh": "涵盖从英检5级到TOEIC高分水平的广泛词汇。您可以根据自己的水平进行学习。" },
        "wb_feature1_alt": { "ja": "ゲームプレイ", "en": "Gameplay", "zh": "游戏玩法" },
        "wb_feature2_title": { "ja": "爽快シューティング", "en": "Exhilarating Shooting", "zh": "爽快的射击" },
        "wb_feature2_desc": { "ja": "次々と現れる敵（単語）を正しい翻訳を選んで撃ち落とす！ステージクリア型のゲームプレイで飽きさせません。", "en": "Shoot down enemies (words) that appear one after another by choosing the correct translation! Stage-clearing gameplay keeps you engaged.", "zh": "选择正确的翻译击落接连出现的敌人（单词）！过关型游戏玩法让您乐此不疲。" },
        "wb_feature2_alt": { "ja": "ボス戦", "en": "Boss Battle", "zh": "Boss战" },
        "wb_feature3_title": { "ja": "強力なボスバトル", "en": "Intense Boss Battles", "zh": "激烈的Boss战" },
        "wb_feature3_desc": { "ja": "各レベルの最後には手強いボスが出現。特殊な攻撃をかわし、弱点となるキー単語を狙い撃て！", "en": "A formidable boss appears at the end of each level. Dodge special attacks and aim for the key vocabulary weaknesses!", "zh": "每个级别的最后都会出现强大的Boss。躲避特殊攻击，瞄准作为弱点的关键词汇射击！" },
        "wb_feature3_alt": { "ja": "ボスバトル", "en": "Boss Battle", "zh": "Boss战斗" },
        "wb_feature4_title": { "ja": "多言語対応", "en": "Multilingual Support", "zh": "多语言支持" },
        "wb_feature4_desc": { "ja": "学習したい言語（英語、日本語など）と、あなたの母国語を柔軟に設定可能。世界中の学習者をサポートします。", "en": "Flexibly set the language you want to learn (English, Japanese, etc.) and your native language. Supports learners worldwide.", "zh": "灵活设置您想学习的语言（如英语、日语）和您的母语。支持全球学习者。" },
        "wb_feature4_alt": { "ja": "言語設定", "en": "Language Settings", "zh": "语言设置" },
        "wb_testimonials_badge": { "ja": "ユーザーの声", "en": "User Reviews", "zh": "用户评价" },
        "wb_testimonials_title": { "ja": "高評価続々！", "en": "Rave Reviews!", "zh": "好评如潮！" },
        "wb_review1_content": { "ja": "ゲーム感覚で単語が覚えられるのが最高！気づいたらTOEICのスコアが上がってました。", "en": "It's awesome to learn vocabulary like playing a game! My TOEIC score went up before I knew it.", "zh": "像玩游戏一样记单词太棒了！不知不觉中TOEIC分数就提高了。" },
        "wb_review1_author": { "ja": "山田 花子", "en": "Hanako Yamada", "zh": "山田花子" },
        "wb_review1_author_info": { "ja": "学生 / 20歳", "en": "Student / 20", "zh": "学生 / 20岁" },
        "wb_faq_badge": { "ja": "サポート", "en": "Support", "zh": "支持" },
        "wb_faq_title": { "ja": "よくある質問（FAQ）", "en": "FAQ", "zh": "常见问题" },
        "wb_faq1_q": { "ja": "どのくらいのレベルの単語が学べますか？", "en": "What level of vocabulary can I learn?", "zh": "可以学习什么水平的单词？" },
        "wb_faq1_a": { "ja": "英検5級レベルから始まり、TOEIC990点を目指せる上級レベルまで幅広く対応しています。", "en": "It covers a wide range, starting from EIKEN Level 5 up to advanced levels aiming for a TOEIC score of 990.", "zh": "广泛支持从英检5级水平开始，到以TOEIC990分为目标的高级水平。" },
        "wb_contact_badge": { "ja": "お問い合わせ", "en": "Contact", "zh": "联系我们" },
        "wb_contact_title": { "ja": "サポート", "en": "Support", "zh": "支持" },
        "wb_contact_heading": { "ja": "ご連絡はこちら", "en": "Contact Us Here", "zh": "由此联系" },
        
        // --- 論破王 (ronpa_) ---
        "ronpa_hero_title": { "ja": "論破王 - AIディベートバトル", "en": "Debate Master - AI Battle", "zh": "辩论之王 - AI辩论战" },
        "ronpa_hero_desc": { 
            "ja": "AI論客を打ち破れ！最強のディベート力を身につけろ。",
            "en": "Defeat AI debaters! Acquire the strongest debating skills.",
            "zh": "击败AI辩手！掌握最强的辩论技巧。"
        },
        "ronpa_alt_debate_screen": { "ja": "論破王ディベート画面", "en": "Debate Master Debate Screen", "zh": "辩论之王辩论界面" },
        "ronpa_alt_opponent_screen": { "ja": "論破王対戦相手選択", "en": "Debate Master Opponent Selection", "zh": "辩论之王对手选择" },
        "ronpa_features_badge": { "ja": "アプリの特徴", "en": "App Features", "zh": "应用特色" },
        "ronpa_features_title": { "ja": "論破王の魅力", "en": "The Appeal of Debate Master", "zh": "辩论之王的魅力" },
        "ronpa_features_desc": { 
            "ja": "AIとの白熱ディベートで、あなたの論理的思考力と表現力を極限まで高めよう。",
            "en": "Elevate your logical thinking and expression skills to the limit through heated debates with AI.",
            "zh": "通过与AI的激烈辩论，将您的逻辑思维能力和表达能力提升到极致。"
        },
        "ronpa_feature1_title": { "ja": "個性豊かなAI論客", "en": "Unique AI Debaters", "zh": "个性丰富的AI辩手" },
        "ronpa_feature1_desc": { "ja": "ひろゆき風、呂布風など、多彩なAIキャラクターとディベートバトル。それぞれ独自のスタイルであなたに挑みます。", "en": "Debate battle with diverse AI characters like Hiroyuki-style, Lu Bu-style. Each challenges you with their unique style.", "zh": "与ひろゆき风格、吕布风格等多种AI角色进行辩论战。他们各自以独特的风格向您挑战。" },
        "ronpa_feature1_alt": { "ja": "AI論客設定", "en": "AI Debater Settings", "zh": "AI辩手设置" },
        "ronpa_feature2_title": { "ja": "詳細な分析とフィードバック", "en": "Detailed Analysis & Feedback", "zh": "详细分析与反馈" },
        "ronpa_feature2_desc": { "ja": "AIがあなたの議論をリアルタイムで分析。論点のズレ、弱点を指摘し、より説得力のある議論のための改善点を提案します。", "en": "AI analyzes your arguments in real-time, pointing out deviations, weaknesses, and suggesting improvements for more persuasive arguments.", "zh": "AI实时分析您的论点，指出论点偏差、弱点，并为更有说服力的论证提出改进建议。" },
        "ronpa_feature2_alt": { "ja": "論点分析", "en": "Argument Analysis", "zh": "论点分析" },
        "ronpa_feature3_title": { "ja": "実践的ディベート練習", "en": "Practical Debate Practice", "zh": "实用辩论练习" },
        "ronpa_feature3_desc": { "ja": "特定のテーマとタスクに基づいたレッスンモードで、段階的にディベートスキルを向上。日常会話からビジネス交渉まで役立つ力が身につきます。", "en": "Improve debate skills step-by-step in lesson mode based on specific themes and tasks. Acquire skills useful from daily conversation to business negotiations.", "zh": "在基于特定主题和任务的课程模式中逐步提高辩论技巧。掌握从日常会话到商务谈判均有用的能力。" },
        "ronpa_feature3_alt": { "ja": "ディベート結果", "en": "Debate Results", "zh": "辩论结果" },
        "ronpa_testimonials_badge": { "ja": "ユーザーの声", "en": "User Reviews", "zh": "用户评价" },
        "ronpa_testimonials_title": { "ja": "挑戦者たちの声", "en": "Challengers' Voices", "zh": "挑战者之声" },
        "ronpa_review1_content": { "ja": "AI相手とは思えないほど手強い！自分の議論の穴がよく分かりました。", "en": "It's hard to believe I'm debating an AI, they're so tough! I clearly understood the flaws in my arguments.", "zh": "对手强到难以置信是AI！我清楚地了解了自己论点的漏洞。" },
        "ronpa_review1_author": { "ja": "ディベート練習中", "en": "Debate Trainee", "zh": "辩论练习中" },
        "ronpa_review1_author_info": { "ja": "大学生 / 21歳", "en": "University Student / 21", "zh": "大学生 / 21岁" },
        "ronpa_faq_badge": { "ja": "サポート", "en": "Support", "zh": "支持" },
        "ronpa_faq_title": { "ja": "よくある質問（FAQ）", "en": "FAQ", "zh": "常见问题" },
        "ronpa_faq1_q": { "ja": "どんなAIと対戦できますか？", "en": "What kind of AI can I debate against?", "zh": "可以和什么样的AI对战？" },
        "ronpa_faq1_a": { "ja": "ひろゆき氏や呂布カルマ氏を模倣したAIなど、様々な個性と強さを持つAI論客が用意されています。", "en": "Various AI debaters with unique personalities and strengths are available, including AI mimicking Mr. Hiroyuki and Mr. Lu Bu Karma.", "zh": "准备了模仿ひろゆき先生或吕布カルマ先生等具有各种个性和实力的AI辩手。" },
        "ronpa_contact_badge": { "ja": "お問い合わせ", "en": "Contact", "zh": "联系我们" },
        "ronpa_contact_title": { "ja": "ご意見・ご要望", "en": "Feedback & Requests", "zh": "意见与要求" },
        "ronpa_contact_heading": { "ja": "ご連絡ください", "en": "Please Contact Us", "zh": "请联系我们" },

        // --- ハッキングタイマー (ht_) ---
        "ht_hero_title": { "ja": "ハッキングタイマー", "en": "Hacking Timer", "zh": "黑客计时器" },
        "ht_hero_desc": { 
            "ja": "Apple Watchで集中力をハック！カスタマイズ可能なインターバルタイマー。",
            "en": "Hack your focus with Apple Watch! A customizable interval timer.",
            "zh": "用Apple Watch掌控您的专注力！可自定义的间隔计时器。"
        },
        "ht_alt_main_screen": { "ja": "ハッキングタイマーメイン画面", "en": "Hacking Timer Main Screen", "zh": "黑客计时器主界面" },
        "ht_alt_settings_screen": { "ja": "ハッキングタイマー設定画面", "en": "Hacking Timer Settings Screen", "zh": "黑客计时器设置界面" },
        "ht_features_badge": { "ja": "アプリの特徴", "en": "App Features", "zh": "应用特色" },
        "ht_features_title": { "ja": "ハッキングタイマーの魅力", "en": "The Appeal of Hacking Timer", "zh": "黑客计时器的魅力" },
        "ht_features_desc": { 
            "ja": "あなたのApple Watchが最強の集中力サポートツールに変わる！",
            "en": "Your Apple Watch transforms into the ultimate focus support tool!",
            "zh": "您的Apple Watch将变身为最强的专注力辅助工具！"
        },
        "ht_feature1_title": { "ja": "WatchOSスタンドアロン", "en": "WatchOS Standalone", "zh": "WatchOS独立运行" },
        "ht_feature1_desc": { "ja": "iPhone不要！Apple Watch単体で全ての機能が動作。手軽に集中時間を管理できます。", "en": "No iPhone needed! All features work standalone on Apple Watch. Easily manage your focus time.", "zh": "无需iPhone！所有功能均可在Apple Watch上独立运行。轻松管理您的专注时间。" },
        "ht_feature1_alt": { "ja": "アラーム設定", "en": "Alarm Settings", "zh": "闹钟设置" },
        "ht_feature2_title": { "ja": "高度なカスタマイズ", "en": "Advanced Customization", "zh": "高级自定义" },
        "ht_feature2_desc": { "ja": "通知間隔、アラームの種類（振動・音・組み合わせ）、パターン、継続時間、曜日・時間帯、事前通知など、全てを自分好みに設定可能。", "en": "Notification interval, alarm type (vibration, sound, combination), pattern, duration, days/time, pre-notifications, etc., all customizable to your liking.", "zh": "通知间隔、闹钟类型（振动、声音、组合）、模式、持续时间、星期几/时间段、预先通知等，一切皆可按您的喜好设置。" },
        "ht_feature3_title": { "ja": "確実な通知システム", "en": "Reliable Notification System", "zh": "可靠的通知系统" },
        "ht_feature3_desc": { "ja": "バックグラウンドでも確実に通知。重要なタスクの区切りや休憩時間を逃しません。クリティカルアラートにも対応。", "en": "Reliable notifications even in the background. Never miss important task breaks or rest times. Supports critical alerts.", "zh": "即使在后台也能可靠通知。不会错过重要任务的间歇或休息时间。支持重要提醒。" },
        "ht_feature3_alt": { "ja": "通知例", "en": "Notification Example", "zh": "通知示例" },
        "ht_testimonials_badge": { "ja": "ユーザーの声", "en": "User Reviews", "zh": "用户评价" },
        "ht_testimonials_title": { "ja": "集中できた！の声", "en": "Focused! Voices", "zh": "专注成功！之声" },
        "ht_review1_content": { "ja": "仕事中の集中力が劇的に上がりました。Apple Watchだけで使えるのが便利すぎます。", "en": "My concentration during work has dramatically improved. It's too convenient that it works just with Apple Watch.", "zh": "我工作时的专注力显著提高。仅凭Apple Watch就能使用，太方便了。" },
        "ht_review1_author": { "ja": "集中したい会社員", "en": "Focused Office Worker", "zh": "专注的上班族" },
        "ht_review1_author_info": { "ja": "プログラマー / 28歳", "en": "Programmer / 28", "zh": "程序员 / 28岁" },
        "ht_faq_badge": { "ja": "サポート", "en": "Support", "zh": "支持" },
        "ht_faq_title": { "ja": "よくある質問（FAQ）", "en": "FAQ", "zh": "常见问题" },
        "ht_faq1_q": { "ja": "iPhoneがなくても使えますか？", "en": "Can I use it without an iPhone?", "zh": "没有iPhone也能使用吗？" },
        "ht_faq1_a": { "ja": "はい、ハッキングタイマーはApple Watch単体で動作するスタンドアロンアプリです。", "en": "Yes, Hacking Timer is a standalone app that works solely on Apple Watch.", "zh": "是的，黑客计时器是一款可在Apple Watch上独立运行的应用程序。" },
        "ht_contact_badge": { "ja": "お問い合わせ", "en": "Contact", "zh": "联系我们" },
        "ht_contact_title": { "ja": "フィードバック", "en": "Feedback", "zh": "反馈" },
        "ht_contact_heading": { "ja": "ご意見をお聞かせください", "en": "Let Us Hear Your Opinion", "zh": "请告诉我们您的意见" },

        // --- Footer ---
        "footer_brand_desc": { "ja": "オリジナリティあふれるアプリ開発を目指しています", "en": "Aiming to develop highly original apps", "zh": "致力于开发充满创意的应用程序" },
        "footer_apps_title": { "ja": "アプリ", "en": "Apps", "zh": "应用" },
        "footer_support_title": { "ja": "サポート", "en": "Support", "zh": "支持" },
        "footer_support_faq": { "ja": "よくある質問", "en": "FAQ", "zh": "常见问题" },
        "footer_support_contact": { "ja": "お問い合わせ", "en": "Contact Us", "zh": "联系我们" },
        "footer_support_bug_report": { "ja": "バグ報告", "en": "Bug Report", "zh": "错误报告" },
        "footer_company_title": { "ja": "会社情報", "en": "Company", "zh": "公司信息" },
        "footer_company_overview": { "ja": "会社概要", "en": "About Us", "zh": "关于我们" },
        "footer_company_privacy": { "ja": "プライバシーポリシー", "en": "Privacy Policy", "zh": "隐私政策" },
        "footer_company_terms": { "ja": "利用規約", "en": "Terms of Service", "zh": "服务条款" },
        "footer_copyright": { "ja": "&copy; 2025 TrailFusion AI. All rights reserved.", "en": "&copy; 2025 TrailFusion AI. All rights reserved.", "zh": "&copy; 2025 TrailFusion AI. 版权所有。" }
    };

    const langToFlag = {
      'ja': 'jp', 'en': 'us', 'zh': 'cn', 'pt': 'br', 'es': 'es',
      'de': 'de', 'hi': 'in', 'ru': 'ru', 'fr': 'fr'
    };

    const langFullNames = {
      'ja': '日本語', 'en': 'English', 'zh': '中文', 'pt': 'Português', 'es': 'Español',
      'de': 'Deutsch', 'hi': 'हिन्दी', 'ru': 'Русский', 'fr': 'Français'
    };

    function applyTranslations(lang) {
      document.querySelectorAll('[data-i18n-key]').forEach(element => {
        const key = element.getAttribute('data-i18n-key');
        if (translations[key] && translations[key][lang]) {
          element.innerHTML = translations[key][lang];
        } else if (translations[key] && translations[key]['ja']) {
          element.innerHTML = translations[key]['ja'];
        }
      });

      document.querySelectorAll('img[data-i18n-alt-key]').forEach(element => {
        const key = element.getAttribute('data-i18n-alt-key');
        if (translations[key] && translations[key][lang]) {
          element.alt = translations[key][lang];
        } else if (translations[key] && translations[key]['ja']) {
          element.alt = translations[key]['ja'];
        }
      });
      
      document.querySelectorAll('title[data-i18n-key]').forEach(element => {
        const key = element.getAttribute('data-i18n-key');
        if (translations[key] && translations[key][lang]) {
          document.title = translations[key][lang];
        } else if (translations[key] && translations[key]['ja']) {
          document.title = translations[key]['ja'];
        }
      });

      document.documentElement.lang = lang;

      const langBtn = document.querySelector('.language-btn');
      const currentFlag = langToFlag[lang] || 'us';
      const currentLangNameKey = `lang_name_${lang}`;
      const currentLangName = (translations[currentLangNameKey] && translations[currentLangNameKey][lang]) 
                              ? translations[currentLangNameKey][lang] 
                              : langFullNames[lang];

      if (langBtn) {
        langBtn.innerHTML = `
          <span class="flag-icon flag-icon-${currentFlag}"></span>
          <span>${currentLangName}</span>
          <i class="fas fa-chevron-down" style="font-size: 0.75em; margin-left: 5px;"></i>
        `;
      }
      document.querySelectorAll('.language-option').forEach(opt => {
        opt.classList.remove('active');
        const currentAppClass = document.body.className.split(' ').find(cls => cls.endsWith('-app'));
        if (opt.dataset.lang === lang) {
          opt.classList.add('active');
          if (currentAppClass) {
            const appPrefix = currentAppClass.split('-')[0]; // e.g., "gpt" from "gpt-app"
            opt.style.backgroundColor = `var(--${appPrefix}-primary)`;
          } else {
            opt.style.backgroundColor = 'var(--primary-color)'; // Fallback
          }
          opt.style.color = 'var(--white)';
        } else {
            opt.style.backgroundColor = ''; 
            opt.style.color = ''; 
        }
      });
      
      const metaTagsToUpdate = {
        'description': 'seo_desc_default', 'keywords': 'seo_keywords_default',
        'og:title': 'og_title_default', 'og:description': 'og_desc_default',
        'twitter:title': 'twitter_title_default', 'twitter:description': 'twitter_desc_default'
      };
      Object.entries(metaTagsToUpdate).forEach(([attrValue, i18nKey]) => {
        let element;
        if (attrValue.startsWith('og:') || attrValue.startsWith('twitter:')) {
            element = document.querySelector(`meta[property="${attrValue}"]`);
        } else {
            element = document.querySelector(`meta[name="${attrValue}"]`);
        }
        if (element && translations[i18nKey]) {
            element.setAttribute('content', translations[i18nKey][lang] || translations[i18nKey]['ja']);
        }
      });
    }
    
    document.addEventListener('DOMContentLoaded', function() {
      const loadingBar = document.getElementById('loading-bar');
      const appShell = document.getElementById('app-shell');
      let width = 0;
      const loadingInterval = setInterval(() => {
        if (width >= 100) {
          clearInterval(loadingInterval);
          setTimeout(() => { if(appShell) appShell.style.display = 'none'; }, 300);
        } else {
          width += Math.random() * 10 + 5;
          if (width > 100) width = 100;
          if(loadingBar) loadingBar.style.width = width + '%';
        }
      }, 100);
      
      initAccordion();
      initAppTabs();
      
      AOS.init({ duration: 800, once: true, offset: 100, delay: 100 });
      
      const navbar = document.querySelector('.navbar');
      const scrollTopBtn = document.getElementById('scroll-top');
      const navbarMenu = document.getElementById('navbar-menu');
      const initialNavbarHeight = navbar ? navbar.offsetHeight : 77;
      if (navbarMenu) navbarMenu.style.top = `${initialNavbarHeight}px`;

      window.addEventListener('scroll', function() {
        const currentScroll = window.scrollY;
        if (navbar) {
            if (currentScroll > 50) {
                navbar.classList.add('scrolled');
                if (navbarMenu) navbarMenu.style.top = `${navbar.offsetHeight}px`;
            } else {
                navbar.classList.remove('scrolled');
                if (navbarMenu) navbarMenu.style.top = `${initialNavbarHeight}px`;
            }
        }
        if (scrollTopBtn) {
            scrollTopBtn.classList.toggle('active', currentScroll > 200);
        }
      });
      
      document.getElementById('navbar-toggle').addEventListener('click', function() {
        navbarMenu.classList.toggle('active');
        if (navbarMenu.classList.contains('active')) {
            navbarMenu.style.top = `${navbar.offsetHeight}px`;
        }
      });
      
      if(scrollTopBtn) {
        scrollTopBtn.addEventListener('click', function() {
          window.scrollTo({ top: 0, behavior: 'smooth' });
        });
      }
      
      document.querySelectorAll('.nav-link').forEach(link => {
        link.addEventListener('click', function(e) {
          e.preventDefault();
          const targetIdRaw = this.getAttribute('href'); // e.g., #features
          const activeAppContent = document.querySelector('.app-content.active');
          let targetElement = null;
          let targetIdForApp = '';

          if (activeAppContent && targetIdRaw.startsWith('#')) {
              const appPrefix = activeAppContent.id.split('-')[0]; // e.g., "gpt"
              targetIdForApp = `${targetIdRaw}-${appPrefix}`; // e.g., #features-gpt
              targetElement = activeAppContent.querySelector(targetIdForApp);
              // Fallback if specific ID not found, try general ID within app
              if (!targetElement) {
                targetElement = activeAppContent.querySelector(targetIdRaw);
              }
          }
          
          if (!targetElement && targetIdRaw.startsWith('#')) { // Fallback to document global search
              targetElement = document.querySelector(targetIdRaw);
          }
          
          if (targetElement) {
            if(navbarMenu) navbarMenu.classList.remove('active');
            const offset = navbar ? navbar.offsetHeight : 77;
            window.scrollTo({
              top: targetElement.offsetTop - offset - 20,
              behavior: 'smooth'
            });
          } else {
            console.warn(`Target element not found for href: ${targetIdRaw} (tried ${targetIdForApp})`);
          }
        });
      });

      document.querySelectorAll('.footer-link-app').forEach(link => {
        link.addEventListener('click', (e) => {
          e.preventDefault();
          const targetApp = link.dataset.app;
          document.querySelector(`.app-tab[data-target="${targetApp}"]`).click();
          window.scrollTo({ top: 0, behavior: 'smooth' });
        });
      });

      const languageDropdown = document.querySelector('.language-dropdown');
      if (languageDropdown) {
        languageDropdown.innerHTML = ''; 
        Object.keys(langFullNames).forEach(langCode => {
          const option = document.createElement('div');
          option.classList.add('language-option');
          option.dataset.lang = langCode;
          const langNameKey = `lang_name_${langCode}`;
          const nativeLangName = (translations[langNameKey] && translations[langNameKey][langCode]) 
                                 ? translations[langNameKey][langCode] 
                                 : langFullNames[langCode];
          option.innerHTML = `
            <span class="flag-icon flag-icon-${langToFlag[langCode]}"></span>
            <span>${nativeLangName}</span>
          `;
          option.addEventListener('click', function() {
            const selectedLang = this.dataset.lang;
            applyTranslations(selectedLang);
            localStorage.setItem('preferredLanguage', selectedLang);
          });
          languageDropdown.appendChild(option);
        });
      }

      const preferredLanguage = localStorage.getItem('preferredLanguage') || navigator.language.split('-')[0] || 'ja';
      applyTranslations(preferredLanguage);
      
      // 画像エラーハンドリングを初期化
      initImageErrorHandling();
      
      // 遅延読み込みを初期化（必要に応じて）
      if ('IntersectionObserver' in window) {
        lazyLoadImages();
      }
      
      // Font Awesomeアイコンのチェック
      setTimeout(checkFontAwesome, 1000);
      
      // ウッドゴーレムゲームの初期化（少し遅らせる）
      setTimeout(() => {
        initWoodGolemGame();
      }, 500);
    });
    
    function initAccordion() {
      document.querySelectorAll('.accordion').forEach(accordion => {
        const header = accordion.querySelector('.accordion-header');
        const content = accordion.querySelector('.accordion-content');
        if(header && content){
            header.addEventListener('click', () => {
            accordion.classList.toggle('active');
            content.style.maxHeight = accordion.classList.contains('active') ? content.scrollHeight + 'px' : '0';
            });
        }
      });
    }
    
    // 攻略法の解答表示機能
    function toggleSolution(button) {
      const solution = button.previousElementSibling;
      if (solution.style.display === 'none' || solution.style.display === '') {
        solution.style.display = 'block';
        button.textContent = '解答を隠す';
      } else {
        solution.style.display = 'none';
        button.textContent = '解答を見る';
      }
    }
    
    // グローバルスコープに関数を追加
    window.toggleSolution = toggleSolution;
    
    // ウッドゴーレム棒取りゲーム
    class WoodGolemGame {
      constructor() {
        this.stages = [
          { sticks: [1, 1], hint: "まずは一つとってみよう" },
          { sticks: [1, 2], hint: "2段目から1本棒を取って、相手に最後の棒を取らせよう。" },
          { sticks: [1, 1, 2], hint: "3段目から1本棒を取って、すべての段に1本ずつ棒を残そう。" },
          { sticks: [2, 2], hint: "先行を選んだら勝てない。後攻を選んでみよう。" },
          { sticks: [2, 3], hint: "2段目から1本棒を取って、相手に均等にさせよう。" },
          { sticks: [3, 3], hint: "後攻を選んで様子をみよう。" },
          { sticks: [3, 4], hint: "2段目から1本棒を取って、均等な状態を目指そう。" },
          { sticks: [1, 2, 3], hint: "後攻を選んで様子をみよう。" },
          { sticks: [1, 3, 4], hint: "3段目から2本棒を取って、均等に保とう。" },
          { sticks: [2, 4, 6], hint: "後攻を選んで様子をみよう。" }
        ];
        
        this.currentStage = 0;
        this.rows = [];
        this.isPlayerTurn = true;
        this.gameStarted = false;
        this.selectedSticks = [];
        this.selectedRow = -1;
        
        this.initializeGame();
        this.bindEvents();
      }
      
      initializeGame() {
        this.loadStage(this.currentStage);
        this.updateDisplay();
      }
      
      loadStage(stageIndex) {
        if (stageIndex >= this.stages.length) {
          this.showGameComplete();
          return;
        }
        
        const stage = this.stages[stageIndex];
        this.rows = stage.sticks.map(count => Array(count).fill(true));
        this.gameStarted = false;
        this.selectedSticks = [];
        this.selectedRow = -1;
        this.updateDisplay();
        this.showRoleSelection();
      }
      
      updateDisplay() {
        // ステージ表示更新
        document.getElementById('game-stage').textContent = `ステージ ${this.currentStage + 1}`;
        
        // ゲームボード描画
        this.renderBoard();
        
        // ターン表示更新
        this.updateTurnDisplay();
      }
      
      renderBoard() {
        const board = document.getElementById('game-board');
        board.innerHTML = '';
        
        this.rows.forEach((row, rowIndex) => {
          const rowDiv = document.createElement('div');
          rowDiv.className = 'game-row';
          
          const label = document.createElement('span');
          label.className = 'row-label-game';
          label.textContent = `段${rowIndex + 1}:`;
          rowDiv.appendChild(label);
          
          const sticksContainer = document.createElement('div');
          sticksContainer.className = 'sticks-container';
          
          row.forEach((stick, stickIndex) => {
            if (stick) {
              const stickDiv = document.createElement('div');
              stickDiv.className = 'game-stick';
              stickDiv.dataset.row = rowIndex;
              stickDiv.dataset.stick = stickIndex;
              
              sticksContainer.appendChild(stickDiv);
            }
          });
          
          rowDiv.appendChild(sticksContainer);
          
          const count = document.createElement('span');
          count.className = 'stick-count';
          count.textContent = `${row.filter(s => s).length}本`;
          rowDiv.appendChild(count);
          
          board.appendChild(rowDiv);
        });
        
        this.setupDragEvents();
        this.updateNimDisplay();
      }
      
      setupDragEvents() {
        if (!this.gameStarted || !this.isPlayerTurn) return;
        
        let isDragging = false;
        let dragStartRow = -1;
        let dragStartStick = -1;
        
        document.querySelectorAll('.game-stick').forEach(stick => {
          stick.addEventListener('mousedown', (e) => {
            if (!this.gameStarted || !this.isPlayerTurn) return;
            
            e.preventDefault();
            isDragging = true;
            dragStartRow = parseInt(stick.dataset.row);
            dragStartStick = parseInt(stick.dataset.stick);
            
            this.selectedRow = dragStartRow;
            this.selectedSticks = [dragStartStick];
            this.updateStickSelection();
          });
          
          stick.addEventListener('mouseenter', (e) => {
            if (!isDragging || !this.gameStarted || !this.isPlayerTurn) return;
            
            const currentRow = parseInt(stick.dataset.row);
            const currentStick = parseInt(stick.dataset.stick);
            
            // 同じ行でのみドラッグ選択を許可
            if (currentRow === dragStartRow) {
              const minIndex = Math.min(dragStartStick, currentStick);
              const maxIndex = Math.max(dragStartStick, currentStick);
              
              this.selectedSticks = [];
              for (let i = minIndex; i <= maxIndex; i++) {
                if (this.rows[currentRow][i]) {
                  this.selectedSticks.push(i);
                }
              }
              this.updateStickSelection();
            }
          });
        });
        
        document.addEventListener('mouseup', () => {
          if (isDragging && this.gameStarted && this.isPlayerTurn && this.selectedSticks.length > 0) {
            this.makePlayerMove();
          }
          isDragging = false;
          dragStartRow = -1;
          dragStartStick = -1;
        });
      }
      
      clearSelection() {
        document.querySelectorAll('.game-stick.selected').forEach(stick => {
          stick.classList.remove('selected');
        });
      }
      
      updateStickSelection() {
        this.clearSelection();
        
        if (this.selectedRow >= 0) {
          this.selectedSticks.forEach(stickIndex => {
            const stickElement = document.querySelector(`[data-row="${this.selectedRow}"][data-stick="${stickIndex}"]`);
            if (stickElement) {
              stickElement.classList.add('selected');
            }
          });
        }
      }
      
      makePlayerMove() {
        if (this.selectedRow >= 0 && this.selectedSticks.length > 0) {
          // 棒を取る
          this.selectedSticks.forEach(stickIndex => {
            this.rows[this.selectedRow][stickIndex] = false;
          });
          
          // ニム和チェック
          const nimSum = this.calculateNimSum();
          const message = nimSum === 0 ? "最善手です！" : "";
          document.getElementById('game-message').textContent = message;
          
          this.selectedRow = -1;
          this.selectedSticks = [];
          
          if (this.checkGameEnd()) {
            return;
          }
          
          this.isPlayerTurn = false;
          this.updateTurnDisplay();
          this.renderBoard();
          document.getElementById('move-instruction').style.display = 'none';
          
          // AIの手を少し遅らせる
          setTimeout(() => {
            this.makeAIMove();
          }, 1000);
        }
      }
      
      makeAIMove() {
        const move = this.findBestMove();
        
        if (move) {
          move.indices.forEach(index => {
            this.rows[move.row][index] = false;
          });
        } else {
          // ランダムな手
          for (let r = 0; r < this.rows.length; r++) {
            const availableIndices = this.rows[r].map((stick, index) => stick ? index : -1).filter(i => i >= 0);
            if (availableIndices.length > 0) {
              const randomCount = Math.floor(Math.random() * availableIndices.length) + 1;
              for (let i = 0; i < randomCount; i++) {
                this.rows[r][availableIndices[i]] = false;
              }
              break;
            }
          }
        }
        
        if (this.checkGameEnd()) {
          return;
        }
        
        this.isPlayerTurn = true;
        this.updateTurnDisplay();
        this.renderBoard();
        document.getElementById('move-instruction').style.display = 'block';
      }
      
      findBestMove() {
        const heapSizes = this.rows.map(row => row.filter(stick => stick).length);
        const heapsMoreThanOne = heapSizes.filter(size => size > 1).length;
        const nimSum = this.calculateNimSum();
        const totalPiles = heapSizes.filter(size => size > 0).length;
        const numberOfOnes = heapSizes.filter(size => size === 1).length;
        
        // 3本以上の山が1つだけの場合の特別処理
        const bigHeaps = heapSizes.map((size, index) => ({ index, size })).filter(heap => heap.size >= 3);
        if (bigHeaps.length === 1 && bigHeaps.length + numberOfOnes === totalPiles) {
          const { index: r, size: bigSize } = bigHeaps[0];
          
          if (numberOfOnes % 2 === 0) {
            // 1本残し
            const removeCount = bigSize - 1;
            const indices = this.getAvailableIndices(r).slice(0, removeCount);
            return { row: r, indices };
          } else {
            // 全部取り
            const indices = this.getAvailableIndices(r);
            return { row: r, indices };
          }
        }
        
        // 通常のニム戦略
        if (nimSum !== 0) {
          for (let r = 0; r < heapSizes.length; r++) {
            const size = heapSizes[r];
            const target = size ^ nimSum;
            if (target < size) {
              const removeCount = size - target;
              const indices = this.getAvailableIndices(r).slice(0, removeCount);
              return { row: r, indices };
            }
          }
        }
        
        return null;
      }
      
      getAvailableIndices(rowIndex) {
        return this.rows[rowIndex].map((stick, index) => stick ? index : -1).filter(i => i >= 0);
      }
      
      calculateNimSum() {
        const heapSizes = this.rows.map(row => row.filter(stick => stick).length);
        return heapSizes.reduce((sum, size) => sum ^ size, 0);
      }
      
      updateNimDisplay() {
        const heapSizes = this.rows.map(row => row.filter(stick => stick).length);
        const nimSum = this.calculateNimSum();
        
        const nimRowsContainer = document.getElementById('nim-rows');
        nimRowsContainer.innerHTML = '';
        
        heapSizes.forEach((size, index) => {
          const rowDiv = document.createElement('div');
          rowDiv.className = 'nim-row';
          
          const label = document.createElement('span');
          label.className = 'nim-label';
          label.textContent = `段${index + 1}: ${size}本`;
          
          const binary = document.createElement('span');
          binary.className = 'nim-binary';
          binary.textContent = `(${size.toString(2).padStart(4, '0')})`;
          
          rowDiv.appendChild(label);
          rowDiv.appendChild(binary);
          nimRowsContainer.appendChild(rowDiv);
        });
        
        const nimSumDisplay = document.getElementById('nim-sum-display');
        nimSumDisplay.textContent = `ニム和: ${nimSum} (${nimSum.toString(2).padStart(4, '0')})`;
        nimSumDisplay.className = `nim-sum ${nimSum === 0 ? 'zero' : 'non-zero'}`;
      }
      
      checkGameEnd() {
        const hasSticks = this.rows.some(row => row.some(stick => stick));
        
        if (!hasSticks) {
          const winner = this.isPlayerTurn ? "AIの勝利！" : "あなたの勝利！";
          this.showGameResult(winner);
          return true;
        }
        
        return false;
      }
      
      updateTurnDisplay() {
        const turnElement = document.getElementById('game-turn');
        if (this.isPlayerTurn) {
          turnElement.textContent = "あなたの番";
          turnElement.classList.remove('ai-turn');
        } else {
          turnElement.textContent = "AIの番";
          turnElement.classList.add('ai-turn');
        }
      }
      
      showRoleSelection() {
        document.getElementById('role-selection').style.display = 'block';
        document.getElementById('game-result').style.display = 'none';
      }
      
      showGameResult(message) {
        document.getElementById('result-message').textContent = message;
        document.getElementById('game-result').style.display = 'block';
        document.getElementById('role-selection').style.display = 'none';
        
        const nextBtn = document.getElementById('next-btn');
        if (message.includes("あなたの勝利") && this.currentStage < this.stages.length - 1) {
          nextBtn.style.display = 'inline-block';
        } else {
          nextBtn.style.display = 'none';
        }
      }
      
      showGameComplete() {
        document.getElementById('result-message').textContent = "全ステージクリア！おめでとうございます！";
        document.getElementById('game-result').style.display = 'block';
        document.getElementById('role-selection').style.display = 'none';
        document.getElementById('next-btn').style.display = 'none';
      }
      
      startGame(playerFirst) {
        this.isPlayerTurn = playerFirst;
        this.gameStarted = true;
        document.getElementById('role-selection').style.display = 'none';
        document.getElementById('game-message').textContent = '';
        this.updateTurnDisplay();
        this.renderBoard(); // ドラッグイベントを設定するため
        
        if (playerFirst) {
          document.getElementById('move-instruction').style.display = 'block';
        } else {
          document.getElementById('move-instruction').style.display = 'none';
          setTimeout(() => {
            this.makeAIMove();
          }, 1000);
        }
      }
      
      restartStage() {
        this.loadStage(this.currentStage);
      }
      
      nextStage() {
        this.currentStage++;
        this.loadStage(this.currentStage);
      }
      
      showHint() {
        const hint = this.stages[this.currentStage].hint;
        document.getElementById('hint-text').textContent = hint;
        document.getElementById('hint-overlay').style.display = 'flex';
      }
      
      hideHint() {
        document.getElementById('hint-overlay').style.display = 'none';
      }
      
      bindEvents() {
        // 先攻・後攻選択
        document.getElementById('first-btn').addEventListener('click', () => {
          this.startGame(true);
        });
        
        document.getElementById('second-btn').addEventListener('click', () => {
          this.startGame(false);
        });
        
        // ゲーム操作
        document.getElementById('restart-btn').addEventListener('click', () => {
          this.restartStage();
        });
        
        document.getElementById('retry-btn').addEventListener('click', () => {
          this.restartStage();
        });
        
        document.getElementById('next-btn').addEventListener('click', () => {
          this.nextStage();
        });
        
        // ヒント
        document.getElementById('hint-btn').addEventListener('click', () => {
          this.showHint();
        });
        
        document.getElementById('close-hint-btn').addEventListener('click', () => {
          this.hideHint();
        });
        
        // ドラッグ選択は setupDragEvents() で処理
      }
    }
    
    // ゲーム初期化
    let woodGolemGame = null;
    
    function initWoodGolemGame() {
      if (document.getElementById('game-board')) {
        woodGolemGame = new WoodGolemGame();
      }
    }
    
    // グローバルスコープに追加
    window.initWoodGolemGame = initWoodGolemGame;
    
    function initAppTabs() {
      const tabs = document.querySelectorAll('.app-tab');
      const contents = document.querySelectorAll('.app-content');
      const body = document.body;
      const footer = document.querySelector('.footer');

      tabs.forEach(tab => {
        tab.addEventListener('click', () => {
          tabs.forEach(t => t.classList.remove('active'));
          contents.forEach(c => c.classList.remove('active'));
          
          tab.classList.add('active');
          const targetAppId = tab.dataset.target;
          const targetContent = document.getElementById(targetAppId);
          if (targetContent) targetContent.classList.add('active');
          
          // Remove all app-specific body classes before adding the new one
          body.className = Array.from(body.classList).filter(cls => !cls.endsWith('-app')).join(' ');
          body.classList.add(targetAppId);
          
          if (footer) {
            footer.className = 'footer ' + targetAppId;
          }
          
          const activeLangOption = document.querySelector('.language-option.active');
          if (activeLangOption) {
             const appPrefix = targetAppId.split('-')[0];
             activeLangOption.style.backgroundColor = `var(--${appPrefix}-primary)`;
             activeLangOption.style.color = 'var(--white)';
          }
          // Ensure sections for this app are visible if they were hidden for another
          contents.forEach(c => {
            if (c.id !== targetAppId) {
                // Potentially hide sections within inactive tabs if needed,
                // but usually just making the .app-content inactive is enough.
            }
          });


          window.scrollTo({ top: 0, behavior: 'smooth' });
          setTimeout(() => { AOS.refresh(); }, 300);
        });
      });
    }
  </script>
</body>
</html>
```
